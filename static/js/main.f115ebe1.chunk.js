(this["webpackJsonpsupport-knowledge"]=this["webpackJsonpsupport-knowledge"]||[]).push([[0],{124:function(e,t,n){},147:function(e){e.exports=JSON.parse('[{"answerId":111,"text":"You should do the following","words":[],"options":[],"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"answerId":112,"text":"Also do the rest of important","words":[],"options":[],"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"answerId":113,"text":"Try something else","words":[],"options":[],"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"answerId":114,"text":"Contact our support","words":[],"options":[],"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"answerId":115,"text":"Do whatever you want!","words":[],"options":[],"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"answerId":116,"text":"Jump through the window.","words":[],"options":[],"createdBy":101,"created":"2021-10-05T14:48:00.000Z"}]')},148:function(e){e.exports=JSON.parse('[{"categoryId":11,"title":"General settings","questions":[{"questionId":1001,"text":"Why promocode hasn\'t been applied?","words":[],"answers":[{"answerId":111,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"},{"answerId":112,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"},{"answerId":114,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"}],"source":1,"status":2,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"}],"isExpanded":false,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"categoryId":22,"title":"Taxes","questions":[{"questionId":1002,"text":"Which promocode do we apply?","words":[],"answers":[],"source":1,"status":2,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"questionId":1003,"text":"Which promocode for client do we apply?","words":[],"answers":[{"answerId":111,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"}],"source":1,"status":2,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"}],"isExpanded":false,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"categoryId":33,"title":"Client settings","questions":[{"questionId":1004,"text":"Does client has promocode?","words":[],"answers":[{"answerId":116,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"}],"source":1,"status":2,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"questionId":1005,"text":"What promocode do we use?","words":[],"answers":[{"answerId":114,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"}],"source":1,"status":2,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"questionId":1006,"text":"Why taxes are less than 5%?","words":[],"answers":[{"answerId":111,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"},{"answerId":114,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"}],"source":1,"status":2,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"questionId":1007,"text":"When do we do something?","words":[],"answers":[{"answerId":113,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"}],"source":1,"status":2,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"}],"isExpanded":false,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"}]')},149:function(e){e.exports=JSON.parse('[{"roleId":11,"title":"Owner","color":"orange","users":[],"isExpanded":false,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"roleId":22,"title":"Admins","color":"brown","users":[],"isExpanded":false,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"roleId":33,"title":"Editors","color":"blue","users":[],"isExpanded":false,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"roleId":44,"title":"Viewers","color":"green","users":[],"isExpanded":false,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"}]')},150:function(e){e.exports=JSON.parse('[{"tagId":1,"name":"iOS","color":"orange"},{"tagId":2,"name":"Android","color":"yellow"},{"tagId":3,"name":"Windows","color":"navy"},{"tagId":4,"name":"Battery","color":"lighblue"},{"tagId":5,"name":"Bug","color":"red"},{"tagId":6,"name":"Feature","color":"blue"}]')},170:function(e,t,n){},171:function(e,t,n){},172:function(e,t,n){},173:function(e,t,n){},290:function(e,t,n){"use strict";n.r(t);var r,a=n(3),c=n(8),s=n(0),o=n.n(s),i=n(34),u=n(20),d=n(109),l=n(151),b=n(11),j=n(2),O=n(17),h=n(147),p=function(){return h.map((function(e){return f(e)}))},f=function(e){return Object(j.a)(Object(j.a)({},e),{},{created:new Date(e.created)})},g="SUPPORT_ANSWERS";!function(e){e.GET_ALL_ANSWERS="GET_ALL_ANSWERS",e.GET_ANSWER="GET_ANSWER",e.ADD_ANSWER="ADD_ANSWER",e.EDIT_ANSWER="EDIT_ANSWER",e.REMOVE_ANSWER="REMOVE_ANSWER",e.STORE_ANSWER="STORE_ANSWER",e.CANCEL_ANSWER="CANCEL_ANSWER"}(r||(r={}));var m,x=function(){return function(e,t){try{e({type:r.ADD_ANSWER,createdBy:t().topState.top.auth.who.userId})}catch(n){console.error(n)}}},y=function(e,t){return function(){var n=Object(c.a)(Object(a.a)().mark((function n(c,s){return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,"add"!==t){n.next=6;break}return c({type:r.STORE_ANSWER,answer:e}),n.abrupt("return",Promise.resolve(s().answerState.answer.answerId));case 6:c({type:r.STORE_ANSWER,answer:e});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e,t){return n.apply(this,arguments)}}()},v=n(148),E=function(e){return Object(j.a)(Object(j.a)({},e),{},{questions:e.questions.map((function(t){return Object(j.a)(Object(j.a)({},t),{},{categoryId:e.categoryId,answers:t.answers.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{assigned:new Date(e.assigned)})})),created:new Date(t.created)})})),created:new Date(e.created)})};!function(e){e.LOAD_CATEGORIES="LOAD_CATEGORIES",e.GET_QUESTION="GET_QUESTION",e.ADD_QUESTION="ADD_QUESTION",e.EDIT_QUESTION="EDIT_QUESTION",e.REMOVE_QUESTION="REMOVE_QUESTION",e.STORE_QUESTION="STORE_QUESTION",e.UPDATE_QUESTION="UPDATE_QUESTION",e.CANCEL_QUESTION="CANCEL_QUESTION",e.CLOSE_QUESTION_FORM="CLOSE_QUESTION_FORM",e.OPEN_QUESTION_FORM="OPEN_QUESTION_FORM",e.GET_CATEGORY="GET_CATEGORY",e.ADD_CATEGORY="ADD_CATEGORY",e.TOGGLE_CATEGORY="EXPAND_CATEGORY",e.EDIT_CATEGORY="EDIT_CATEGORY",e.REMOVE_CATEGORY="REMOVE_CATEGORY",e.STORE_CATEGORY="STORE_CATEGORY",e.UPDATE_CATEGORY="UPDATE_CATEGORY",e.CANCEL_CATEGORY="CANCEL_CATEGORY",e.REMOVE_QUESTION_ANSWER="REMOVE_QUESTION_ANSWER",e.ASSIGN_QUESTION_ANSWER="ASSIGN_QUESTION_ANSWER",e.SET_IS_DETAIL="SET_IS_DETAIL",e.SET_LAST_ANSWER_ID="SET_LAST_ANSWER_ID"}(m||(m={}));var w,I=function(e,t){return function(){var n=Object(c.a)(Object(a.a)().mark((function n(r){return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{r({type:m.GET_QUESTION,categoryId:e,questionId:t})}catch(a){console.error(a)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},S=function(e,t,n){return function(){var n=Object(c.a)(Object(a.a)().mark((function n(r,c){return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{r({type:m.ADD_QUESTION,createdBy:c().topState.top.auth.who.userId,categoryId:e,text:t,showCategoryForm:!1})}catch(a){console.error(a)}case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},T=function(e,t,n){return function(){var r=Object(c.a)(Object(a.a)().mark((function r(c){return Object(a.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,q();case 3:c({type:m.REMOVE_QUESTION,categoryId:t,questionId:n}),e&&R(m.REMOVE_QUESTION,{categoryId:t,questionId:n}),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.error(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},N=function(e,t,n,r){return function(){var r=Object(c.a)(Object(a.a)().mark((function r(c,s){return Object(a.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,q();case 3:c({type:m.ASSIGN_QUESTION_ANSWER,categoryId:e,questionId:t,answerId:n,assignedBy:s().topState.top.auth.who.userId}),r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),console.error(r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e,t){return r.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(c.a)(Object(a.a)().mark((function t(n){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:m.SET_IS_DETAIL,isDetail:e})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},R=function(e,t){var n=document.getElementById("btnSync");localStorage.setItem("syncAction",JSON.stringify({type:e,entity:t,sessionId:sessionStorage.getItem("sessionId")})),n.click()},_=function(e,t){return function(){var n=Object(c.a)(Object(a.a)().mark((function n(r,c){var s;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=t.categoryId,n.prev=1,0!==s){n.next=9;break}return n.next=5,C(c(),r);case 5:n.sent,r({type:m.STORE_QUESTION,question:t}),n.next=10;break;case 9:r({type:m.STORE_QUESTION,question:t});case 10:e&&R(m.STORE_QUESTION,t),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),console.error(n.t0);case 16:case"end":return n.stop()}}),n,null,[[1,13]])})));return function(e,t){return n.apply(this,arguments)}}()},C=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t,n){var r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.categoriesState.categories.find((function(e){return 0===e.categoryId}))){e.next=2;break}return e.abrupt("return",Promise.resolve(-1));case 2:return r=Object(j.a)(Object(j.a)({},Z),{},{categoryId:0,title:"Unknown",questions:[]}),e.abrupt("return",n(G(r)).then((function(e){return e})));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(e,t){return function(){var n=Object(c.a)(Object(a.a)().mark((function n(r,c){var s;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s=t.categoryId,n.next=4,q();case 4:if(0!==s){n.next=11;break}return n.next=7,C(c(),r);case 7:n.sent,r({type:m.UPDATE_QUESTION,question:t}),n.next=12;break;case 11:r({type:m.UPDATE_QUESTION,question:t});case 12:e&&(t.categoryIdWas=c().categoriesState.questionCopy.categoryId,R(m.UPDATE_QUESTION,t)),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(0),console.error(n.t0);case 18:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(e,t){return n.apply(this,arguments)}}()},q=function(){return new Promise((function(e,t){setTimeout((function(){e({status:200,"content-type":"application/json",data:{results:1}})}),50)}))},D=function(){return function(e){try{e({type:m.CLOSE_QUESTION_FORM})}catch(t){console.error(t)}}},U=function(){return function(e){try{e({type:m.OPEN_QUESTION_FORM})}catch(t){console.error(t)}}},Q=function(e,t){return function(){var n=Object(c.a)(Object(a.a)().mark((function n(r){return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,q();case 3:r({type:m.REMOVE_CATEGORY,categoryId:t}),e&&R(m.REMOVE_CATEGORY,t),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},G=function(e,t){return function(){var n=Object(c.a)(Object(a.a)().mark((function n(r,c){return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:m.STORE_CATEGORY,category:t}),e&&R(m.STORE_CATEGORY,t),n.abrupt("return",Promise.resolve(t.categoryId));case 6:n.prev=6,n.t0=n.catch(0),console.error(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e,t){return n.apply(this,arguments)}}()},M=function(e,t){return function(){var n=Object(c.a)(Object(a.a)().mark((function n(r){return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{r({type:m.UPDATE_CATEGORY,category:t}),e&&R(m.UPDATE_CATEGORY,t)}catch(a){console.error(a)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},L=function(e,t,n,r){return function(){var s=Object(c.a)(Object(a.a)().mark((function c(s,o){return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{n.createdBy=o().topState.top.auth.who.userId,s(x()),s(y(n,r)).then((function(n){s(N(e,t,n))}))}catch(c){console.error(c)}case 1:case"end":return a.stop()}}),c)})));return function(e,t){return s.apply(this,arguments)}}()},F={categoryId:0,questionId:0,text:"",words:[],answers:[],source:0,status:0,createdBy:0,created:new Date},B={questions:[]},W=Object.keys(m),P=function(e,t,n,r){var a=e.get(n),c=V(a,t);return W.includes(t.type)&&localStorage.setItem("CATEGORY_".concat(n),JSON.stringify(c.questions)),e.set(n,c),{categoryQuestions:e,question:c.questions.find((function(e){return e.questionId===r}))}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.GET_QUESTION:var n=e.questions.find((function(e){return e.questionId===t.questionId}));return Object(j.a)(Object(j.a)({},e),{},{question:n});case m.ADD_QUESTION:var r,a=0,c=Object(O.a)(e.questions);try{for(c.s();!(r=c.n()).done;){var s=r.value;s.questionId>a&&(a=s.questionId)}}catch(f){c.e(f)}finally{c.f()}return Object(j.a)(Object(j.a)({},e),{},{formMode:"add",question:Object(j.a)(Object(j.a)({},F),{},{createdBy:t.createdBy,categoryId:t.categoryId,questionId:a+1,text:t.text})});case m.EDIT_QUESTION:var o=e.questions.find((function(e){return e.questionId===t.questionId}));return Object(j.a)(Object(j.a)({},e),{},{formMode:"edit",question:o});case m.STORE_QUESTION:var i=t.question;i.words=i.text.split(" ");i.questionId;return Object(j.a)(Object(j.a)({},e),{},{questions:[].concat(Object(b.a)(e.questions),[Object(j.a)({},i)])});case m.UPDATE_QUESTION:var u=t.question,d=u.questionId;return Object(j.a)(Object(j.a)({},e),{},{questions:e.questions.map((function(e){return e.questionId!==d?e:Object(j.a)({},u)}))});case m.CANCEL_QUESTION:return Object(j.a)(Object(j.a)({},e),{},{formMode:"display"});case m.REMOVE_QUESTION:return Object(j.a)(Object(j.a)({},e),{},{questions:e.questions.filter((function(e){return e.questionId!==t.questionId}))});case m.REMOVE_QUESTION_ANSWER:return Object(j.a)(Object(j.a)({},e),{},{questions:e.questions.map((function(e){return e.questionId!==t.questionId?Object(j.a)(Object(j.a)({},e),{},{answers:Object(b.a)(e.answers)}):Object(j.a)(Object(j.a)({},e),{},{answers:e.answers.filter((function(e){return e.answerId!==t.answerId}))})}))});case m.ASSIGN_QUESTION_ANSWER:var l=t.questionId,h=t.answerId,p=t.assignedBy;return Object(j.a)(Object(j.a)({},e),{},{questions:e.questions.map((function(e){return e.questionId!==l?Object(j.a)(Object(j.a)({},e),{},{answers:Object(b.a)(e.answers)}):Object(j.a)(Object(j.a)({},e),{},{answers:[].concat(Object(b.a)(e.answers),[{answerId:h,assignedBy:p,assigned:new Date}])})}))});case m.SET_IS_DETAIL:return Object(j.a)(Object(j.a)({},e),{},{isDetail:t.isDetail});default:return e}},Y="SUPPORT_CATEGORIES",H={categoryId:0,questionId:0,text:"",words:[],source:0,status:0,answers:[],createdBy:0,created:new Date},Z={categoryId:0,title:"",questions:[],isExpanded:!1,createdBy:0,created:new Date},J={categories:[],category:void 0,categoryQuestions:new Map,question:void 0,showCategoryForm:!1,showQuestionForm:!1,categoryOptions:[],loading:!1,formMode:"display",categoryIdEditing:-1,isDetail:!1},z=[m.ADD_CATEGORY,m.TOGGLE_CATEGORY,m.STORE_CATEGORY,m.UPDATE_CATEGORY,m.REMOVE_CATEGORY],X=Object.keys(m).filter((function(e){return z.includes(e)})),$=function(e,t){return t.categoryQuestions.get(e).questions},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.LOAD_CATEGORIES:var n=t.categories,r=t.categoryQuestions,a=n.map((function(e){return{value:e.categoryId,label:e.title}}));return a.unshift({value:0,label:"Unknown"}),Object(j.a)(Object(j.a)({},e),{},{categories:n,categoryQuestions:r,categoryOptions:a});case m.GET_QUESTION:var c=t.categoryId,s=t.questionId,o=$(c,e),i=o.find((function(e){return e.questionId===s}));return Object(j.a)(Object(j.a)({},e),{},{category:void 0,question:i});case m.ADD_QUESTION:var u=t.categoryId,d=0;if(0!==u){var l=$(u,e);d=Math.max.apply(Math,Object(b.a)(l.map((function(e){return e.questionId}))))+1}return Object(j.a)(Object(j.a)({},e),{},{formMode:"add",category:void 0,question:Object(j.a)(Object(j.a)({},H),{},{createdBy:t.createdBy,categoryId:u,questionId:d,text:t.text}),showCategoryForm:!1});case m.EDIT_QUESTION:var O=t.categoryId,h=t.questionId,p=t.showQuestionForm,f=$(O,e),g=f.find((function(e){return e.questionId===h}));return Object(j.a)(Object(j.a)({},e),{},{formMode:"edit",question:g,questionCopy:Object(j.a)({},g),showCategoryForm:!1,showQuestionForm:p});case m.STORE_QUESTION:var x=t.question,y=x.categoryId,v=(x.questionId,P(e.categoryQuestions,t,y)),E=v.categoryQuestions;return Object(j.a)(Object(j.a)({},e),{},{formMode:"edit",categoryQuestions:E});case m.UPDATE_QUESTION:var w=e.questionCopy,I=t.question,S=I.categoryId,T=I.questionId,N=I.categoryIdWas,A=N||w.categoryId;if(t.question.categoryId===A){var R=P(e.categoryQuestions,t,S,T),_=R.categoryQuestions,C=R.question;return Object(j.a)(Object(j.a)({},e),{},{categoryQuestions:_,formMode:"edit",question:C})}var k=P(e.categoryQuestions,Object(j.a)(Object(j.a)({},t),{},{type:m.REMOVE_QUESTION,categoryId:A,questionId:T}),A),q=k.categoryQuestions;return q=P(q,Object(j.a)(Object(j.a)({},t),{},{type:m.STORE_QUESTION}),S).categoryQuestions,Object(j.a)(Object(j.a)({},e),{},{categoryQuestions:q,formMode:"edit"});case m.CANCEL_QUESTION:return Object(j.a)(Object(j.a)({},e),{},{formMode:"display",question:void 0,showQuestionForm:!1});case m.REMOVE_QUESTION:var D=t.categoryId,U=P(e.categoryQuestions,t,D),Q=U.categoryQuestions;return Object(j.a)(Object(j.a)({},e),{},{categoryQuestions:Q,formMode:"display",question:void 0});case m.REMOVE_QUESTION_ANSWER:var G=t.categoryId,M=t.questionId,L=P(e.categoryQuestions,t,G,M),F=L.categoryQuestions,B=L.question;return Object(j.a)(Object(j.a)({},e),{},{categoryQuestions:F,question:B});case m.ASSIGN_QUESTION_ANSWER:var W=t.categoryId,V=t.questionId,Y=P(e.categoryQuestions,t,W,V),z=Y.categoryQuestions,X=Y.question;return Object(j.a)(Object(j.a)({},e),{},{categoryQuestions:z,question:X});case m.SET_IS_DETAIL:return Object(j.a)(Object(j.a)({},e),{},{isDetail:t.isDetail});case m.CLOSE_QUESTION_FORM:return Object(j.a)(Object(j.a)({},e),{},{showQuestionForm:!1});case m.OPEN_QUESTION_FORM:return Object(j.a)(Object(j.a)({},e),{},{showQuestionForm:!0});case m.GET_CATEGORY:var K=t.categoryId,ee=e.categories.find((function(e){return e.categoryId===K}));return Object(j.a)(Object(j.a)({},e),{},{category:ee,question:void 0});case m.ADD_CATEGORY:var te=e.categoryQuestions,ne=t.showCategoryForm,re=Math.max.apply(Math,Object(b.a)(e.categories.map((function(e){return e.categoryId}))))+1,ae={questions:[]};return te.set(re,ae),Object(j.a)(Object(j.a)({},e),{},{formMode:"add",categoryIdEditing:re,category:Object(j.a)(Object(j.a)({},Z),{},{title:"New Category",categoryId:re}),question:void 0,showCategoryForm:ne,showQuestionForm:!1});case m.TOGGLE_CATEGORY:e.categories.find((function(e){return e.categoryId===t.categoryId}));return Object(j.a)(Object(j.a)({},e),{},{categories:e.categories.map((function(e){return e.categoryId!==t.categoryId?e:Object(j.a)(Object(j.a)({},e),{},{isExpanded:!e.isExpanded})}))});case m.EDIT_CATEGORY:var ce=e.categories,se=t.showCategoryForm,oe=ce.find((function(e){return e.categoryId===t.categoryId}));return Object(j.a)(Object(j.a)({},e),{},{categoryCopy:Object(j.a)({},oe),categoryIdEditing:oe.categoryId,showCategoryForm:se,showQuestionForm:!1});case m.STORE_CATEGORY:var ie=t.category,ue=e.categoryQuestions,de={questions:[]};return ue.set(ie.categoryId,de),ie.questions=[],Object(j.a)(Object(j.a)({},e),{},{formMode:"edit",categoryIdEditing:-1,categories:[].concat(Object(b.a)(e.categories),[ie]),categoryQuestions:ue});case m.UPDATE_CATEGORY:var le=t.category,be=le.categoryId,je=le.title;e.categoryCopy;return Object(j.a)(Object(j.a)({},e),{},{categoryIdEditing:-1,categories:e.categories.map((function(e){return e.categoryId!==be?e:Object(j.a)(Object(j.a)({},e),{},{title:je})}))});case m.CANCEL_CATEGORY:return Object(j.a)(Object(j.a)({},e),{},{formMode:"display",category:void 0});case m.REMOVE_CATEGORY:return Object(j.a)(Object(j.a)({},e),{},{categories:e.categories.reduce((function(e,n){return n.categoryId!==t.categoryId&&e.push(Object(j.a)(Object(j.a)({},n),{},{questions:Object(b.a)(n.questions)})),e}),[])});default:return e}},ee={answerId:0,text:"",words:[],options:[],createdBy:0,created:new Date},te={answers:[],answer:void 0,loading:!1,formMode:"display"},ne=Object.keys(r).filter((function(e){return e!==r.GET_ALL_ANSWERS})),re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.GET_ALL_ANSWERS:return Object(j.a)(Object(j.a)({},e),{},{answers:t.answers.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{words:e.text.split(" ")})}))});case r.GET_ANSWER:var n=e.answers.find((function(e){return e.answerId===t.answerId}));return Object(j.a)(Object(j.a)({},e),{},{answer:n});case r.ADD_ANSWER:return Object(j.a)(Object(j.a)({},e),{},{formMode:"add",answer:Object(j.a)(Object(j.a)({},ee),{},{createdBy:t.createdBy,answerId:0===e.answers.length?1:Math.max.apply(Math,Object(b.a)(e.answers.map((function(e){return e.answerId}))))+1})});case r.EDIT_ANSWER:var a=e.answers.find((function(e){return e.answerId===t.answerId}));return Object(j.a)(Object(j.a)({},e),{},{formMode:"edit",answer:Object(j.a)(Object(j.a)({},a),{},{words:a.text.split(" ")})});case r.STORE_ANSWER:var c=t.answer,s=c,o=s.answerId,i=[];return"add"===e.formMode?(-1===o&&(c.answerId=0===e.answers.length?1:Math.max.apply(Math,Object(b.a)(e.answers.map((function(e){return e.answerId}))))+1),i=[].concat(Object(b.a)(e.answers),[Object(j.a)(Object(j.a)({},c),{},{words:c.text.split(" ")})])):i=e.answers.map((function(e){return e.answerId===o?Object(j.a)(Object(j.a)({},c),{},{words:c.text.split(" ")}):e})),Object(j.a)(Object(j.a)({},e),{},{formMode:"edit",answers:i,answer:c});case r.CANCEL_ANSWER:return Object(j.a)(Object(j.a)({},e),{},{formMode:"display"});case r.REMOVE_ANSWER:return Object(j.a)(Object(j.a)({},e),{},{formMode:"display",answers:e.answers.filter((function(e){return e.answerId!==t.answerId}))});default:return e}},ae=n(149),ce="SUPPORT_TOP";!function(e){e.LOAD_TOP="LOAD_TOP",e.NAVBAR_TOGGLE="NAVBAR_TOGGLE",e.REGISTER="REGISTER",e.REGISTER_USERNAME_EXISTS="REGISTER_USERNAME_EXISTS",e.AUTHENTICATE="AUTHENTICATE",e.UNAUTHENTICATE="UNAUTHENTICATE",e.AUTHENTICATE_WRONG_USERNAME="AUTHENTICATE_WRONG_USERNAME",e.AUTHENTICATE_WRONG_PWD="AUTHENTICATE_WRONG_PWD",e.CANCEL="CANCEL"}(w||(w={}));var se,oe=function(e){var t=e.auth,n=t.who,r=t.visited,a=t.authenticated;return Object(j.a)(Object(j.a)({},e),{},{auth:Object(j.a)(Object(j.a)({},t),{},{who:Object(j.a)(Object(j.a)({},n),{},{created:new Date(n.created)}),visited:new Date(r),authenticated:new Date(a)})})},ie=function(e){return function(){var t=Object(c.a)(Object(a.a)().mark((function t(n,r){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n(je(e.userName)).then((function(t){t?t.pwd===e.pwd?n({type:w.AUTHENTICATE,user:t}):n({type:w.AUTHENTICATE_WRONG_PWD}):n({type:w.AUTHENTICATE_WRONG_USERNAME})}))}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},ue=function(){return ae.map((function(e){return de(e)}))},de=function(e){return Object(j.a)(Object(j.a)({},e),{},{users:e.users.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{created:new Date(e.created)})})),created:new Date(e.created)})};!function(e){e.LOAD_USER_GROUPS="LOAD_USER_GROUPS",e.CREATE_OPTIONS="CREATE_OPTIONS",e.GET_ALL_USERS="GET_ALL_USERS",e.GET_USER="GET_USER",e.ADD_USER="ADD_USER",e.EDIT_USER="EDIT_USER",e.REMOVE_USER="REMOVE_USER",e.STORE_USER="STORE_USER",e.CANCEL_USER="CANCEL_USER",e.ADD_ROLE="ADD_ROLE",e.TOGGLE_ROLE="EXPAND_ROLE",e.EDIT_ROLE="EDIT_ROLE",e.REMOVE_ROLE="REMOVE_ROLE",e.STORE_ROLE="STORE_ROLE",e.SET_IS_DETAIL="SET_IS_DETAIL"}(se||(se={}));var le,be=function(e){return function(){var t=Object(c.a)(Object(a.a)().mark((function t(n){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:se.GET_USER,userId:e})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},je=function(e){return function(){var t=Object(c.a)(Object(a.a)().mark((function t(n,r){var c,s,o,i,u,d;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,c=r(),s=c.usersState,i=Object(O.a)(s.roles),t.prev=3,i.s();case 5:if((u=i.n()).done){t.next=12;break}if(d=u.value,!(o=d.users.find((function(t){return t.userName===e})))){t.next=10;break}return t.abrupt("break",12);case 10:t.next=5;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),i.e(t.t0);case 17:return t.prev=17,i.f(),t.finish(17);case 20:return t.abrupt("return",o);case 23:t.prev=23,t.t1=t.catch(0),console.error(t.t1);case 26:case"end":return t.stop()}}),t,null,[[0,23],[3,14,17,20]])})));return function(e,n){return t.apply(this,arguments)}}()},Oe=function(e,t,n){return function(){var n=Object(c.a)(Object(a.a)().mark((function n(r,c){return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{r({type:se.ADD_USER,createdBy:c().topState.top.auth.who.userId,roleId:e,text:t})}catch(a){console.error(a)}case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},he=function(e,t){return function(){var n=Object(c.a)(Object(a.a)().mark((function n(r){return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{r({type:se.EDIT_USER,roleId:e,userId:t})}catch(a){console.error(a)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},pe=function(e,t){return function(){var n=Object(c.a)(Object(a.a)().mark((function n(r){return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,me();case 3:r({type:se.REMOVE_USER,roleId:e,userId:t}),r({type:se.CREATE_OPTIONS}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},fe=function(e){return function(){var t=Object(c.a)(Object(a.a)().mark((function t(n){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:se.SET_IS_DETAIL,isDetail:e})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ge=function(e,t){return function(){var n=Object(c.a)(Object(a.a)().mark((function n(r,c){return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,"add"!==t){n.next=10;break}return n.next=4,me();case 4:return n.next=6,r({type:se.STORE_USER,user:e,formMode:t});case 6:return r({type:w.AUTHENTICATE,user:e}),n.abrupt("return",e);case 10:return n.next=12,me();case 12:r({type:se.STORE_USER,user:e,formMode:t});case 13:r({type:se.CREATE_OPTIONS}),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),console.error(n.t0);case 19:case"end":return n.stop()}}),n,null,[[0,16]])})));return function(e,t){return n.apply(this,arguments)}}()},me=function(){return new Promise((function(e,t){setTimeout((function(){e({status:200,"content-type":"application/json",data:{results:1}})}),50)}))},xe="SUPPORT_USERS",ye={roleId:0,userId:0,userName:"",pwd:"",department:"neki",createdBy:0,created:new Date},ve={roleId:0,title:"",color:"lightgreen",users:[],isExpanded:!1,createdBy:0,created:new Date},Ee={roles:[],user:void 0,allUsers:[],roleOptions:[],userOptions:[],loading:!1,formMode:"display",roleIdEditing:-1,isDetail:!1},we=Object.keys(se).filter((function(e){return e!==se.GET_ALL_USERS})),Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se.GET_ALL_USERS:var n=t.roles;return console.log("roles",n),Object(j.a)(Object(j.a)({},e),{},{roles:n});case se.CREATE_OPTIONS:var r=e.roles,a=[];return r.map((function(e){a=a.concat(e.users)})),console.log("allUsers",a),Object(j.a)(Object(j.a)({},e),{},{allUsers:a,roleOptions:r.map((function(e){return{label:e.title,value:e.roleId}})),userOptions:a.map((function(e){return{label:e.userName,value:e.userId}}))});case se.GET_USER:var c,s=void 0,o=Object(O.a)(e.roles);try{for(o.s();!(c=o.n()).done;){var i=c.value;if(s=i.users.find((function(e){return e.userId===t.userId})))break}}catch(A){o.e(A)}finally{o.f()}return Object(j.a)(Object(j.a)({},e),{},{user:s});case se.ADD_USER:var u,d=0,l=Object(O.a)(e.roles);try{for(l.s();!(u=l.n()).done;){var h,p=u.value,f=Object(O.a)(p.users);try{for(f.s();!(h=f.n()).done;){var g=h.value;g.userId>d&&(d=g.userId)}}catch(A){f.e(A)}finally{f.f()}}}catch(A){l.e(A)}finally{l.f()}return Object(j.a)(Object(j.a)({},e),{},{formMode:"add",user:Object(j.a)(Object(j.a)({},ye),{},{createdBy:t.createdBy,roleId:t.roleId,userId:d+1,text:t.text})});case se.EDIT_USER:var m=e.roles.find((function(e){return e.roleId===t.roleId})),x=m.users.find((function(e){return e.userId===t.userId}));return Object(j.a)(Object(j.a)({},e),{},{formMode:"edit",user:x});case se.STORE_USER:var y=t.user,v=t.formMode;if("add"===v)return console.log(" UserActionTypes.STORE_USER user",y),0!==y.roleId||e.roles.map((function(e){return e.roleId})).includes(0)?Object(j.a)(Object(j.a)({},e),{},{formMode:"edit",roles:e.roles.map((function(e){return e.roleId!==y.roleId?Object(j.a)(Object(j.a)({},e),{},{users:Object(b.a)(e.users)}):Object(j.a)(Object(j.a)({},e),{},{users:[].concat(Object(b.a)(e.users),[Object(j.a)({},y)])})}))}):(console.log("unisao"),Object(j.a)(Object(j.a)({},e),{},{formMode:"edit",roles:[].concat(Object(b.a)(e.roles),[Object(j.a)(Object(j.a)({},ve),{},{roleId:0,title:"Unknown",users:[y]})])}));var E=e.roles,w=t.user,I=(w.roleId,E.find((function(e){return e.roleId===w.roleId}))),S=I.users.find((function(e){return e.userId===w.userId}));return S?Object(j.a)(Object(j.a)({},e),{},{formMode:"edit",roles:E.map((function(e){return e.roleId!==w.roleId?Object(j.a)(Object(j.a)({},e),{},{users:Object(b.a)(e.users)}):Object(j.a)(Object(j.a)({},e),{},{users:e.users.map((function(e){return e.userId!==w.userId?e:Object(j.a)({},w)}))})}))}):Object(j.a)(Object(j.a)({},e),{},{formMode:"edit",roles:E.map((function(e){return e.roleId!==w.roleId?Object(j.a)(Object(j.a)({},e),{},{users:Object(b.a)(e.users.filter((function(e){return e.userId!==w.userId})))}):Object(j.a)(Object(j.a)({},e),{},{users:[].concat(Object(b.a)(e.users),[Object(j.a)({},w)])})}))});case se.CANCEL_USER:return Object(j.a)(Object(j.a)({},e),{},{formMode:"display"});case se.REMOVE_USER:return Object(j.a)(Object(j.a)({},e),{},{formMode:"display",user:void 0,roles:e.roles.map((function(e){return e.roleId!==t.roleId?Object(j.a)(Object(j.a)({},e),{},{users:Object(b.a)(e.users)}):Object(j.a)(Object(j.a)({},e),{},{users:e.users.filter((function(e){return e.userId!==t.userId}))})}))});case se.SET_IS_DETAIL:return Object(j.a)(Object(j.a)({},e),{},{isDetail:t.isDetail});case se.ADD_ROLE:var T=Math.max.apply(Math,Object(b.a)(e.roles.map((function(e){return e.roleId}))))+1;return Object(j.a)(Object(j.a)({},e),{},{roleIdEditing:T,roles:[].concat(Object(b.a)(e.roles),[Object(j.a)(Object(j.a)({},ve),{},{title:"New Section",roleId:T})])});case se.TOGGLE_ROLE:console.log(t);e.roles.find((function(e){return e.roleId===t.roleId}));return Object(j.a)(Object(j.a)({},e),{},{roles:e.roles.map((function(e){return e.roleId!==t.roleId?e:Object(j.a)(Object(j.a)({},e),{},{isExpanded:!e.isExpanded})}))});case se.EDIT_ROLE:var N=e.roles.find((function(e){return e.roleId===t.roleId}));return Object(j.a)(Object(j.a)({},e),{},{roleIdEditing:N.roleId});case se.STORE_ROLE:return Object(j.a)(Object(j.a)({},e),{},{roleIdEditing:-1,roles:e.roles.map((function(e){return e.roleId!==t.group.roleId?e:Object(j.a)(Object(j.a)({},e),{},{title:t.group.title})}))});case se.REMOVE_ROLE:return Object(j.a)(Object(j.a)({},e),{},{roles:e.roles.reduce((function(e,n){return n.roleId!==t.roleId&&e.push(Object(j.a)(Object(j.a)({},n),{},{users:Object(b.a)(n.users)})),e}),[])});default:return e}},Se=n(150);!function(e){e.GET_ALL_TAGS="GET_ALL_TAGS",e.GET_TAG="GET_TAG"}(le||(le={}));var Te=[],Ne={tags:[],loading:!1,formMode:"display"},Ae={top:{navbarOpen:!0,isAuthenticated:null,uuid:null}},Re=Object.keys(w).filter((function(e){return e!==w.LOAD_TOP})),_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.LOAD_TOP:return Object(j.a)(Object(j.a)({},e),{},{top:t.top});case w.REGISTER:return Object(j.a)(Object(j.a)({},e),{},{top:{navbarOpen:!0,isAuthenticated:!0,uuid:"placeholder-uuid",auth:{who:t.user,authenticated:new Date,visited:new Date}}});case w.REGISTER_USERNAME_EXISTS:return Object(j.a)(Object(j.a)({},e),{},{top:Object(j.a)(Object(j.a)({},e.top),{},{authError:"Username already exists, please chose another!"})});case w.NAVBAR_TOGGLE:return Object(j.a)(Object(j.a)({},e),{},{top:Object(j.a)(Object(j.a)({},e.top),{},{navbarOpen:!e.top.navbarOpen})});case w.AUTHENTICATE:return Object(j.a)(Object(j.a)({},e),{},{top:{navbarOpen:!0,isAuthenticated:!0,uuid:"placeholder-uuid",auth:{who:t.user,authenticated:new Date,visited:new Date}}});case w.UNAUTHENTICATE:return Object(j.a)(Object(j.a)({},e),{},{top:{navbarOpen:!0,isAuthenticated:!1,uuid:null}});case w.AUTHENTICATE_WRONG_USERNAME:return Object(j.a)(Object(j.a)({},e),{},{top:Object(j.a)(Object(j.a)({},e.top),{},{authError:"User doesn't exist!"})});case w.AUTHENTICATE_WRONG_PWD:return Object(j.a)(Object(j.a)({},e),{},{top:Object(j.a)(Object(j.a)({},e.top),{},{authError:"Password doesn't match!"})});default:return e}},Ce=Object(d.b)({categoriesState:function(e,t){var n=K(e,t);return X.includes(t.type)&&localStorage.setItem(Y,JSON.stringify(n.categories)),n},answerState:function(e,t){var n=re(e,t);return ne.includes(t.type)&&localStorage.setItem(g,JSON.stringify(n.answers)),n},usersState:function(e,t){var n=Ie(e,t);return we.includes(t.type)&&localStorage.setItem(xe,JSON.stringify(n.roles)),n},tagState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le.GET_ALL_TAGS:return Object(j.a)(Object(j.a)({},e),{},{tags:t.tags.map((function(e){return Object(j.a)({},e)}))});case le.GET_TAG:return Object(j.a)(Object(j.a)({},e),{},{tag:t.tag});default:return e}},topState:function(e,t){var n=_e(e,t);return Re.includes(t.type)&&localStorage.setItem(ce,JSON.stringify(n.top)),n}});n(169),n(170),n(171),n(172),n(173);var ke=n(4),qe=n(45),De=n(10),Ue=n(6),Qe=n(15),Ge=n(16),Me=n(22),Le=n(23),Fe=n(89),Be=n.n(Fe),We=n(90),Pe=n.n(We),Ve=n(91),Ye=n.n(Ve),He=(n(124),n(1)),Ze=["ref"];var Je=Object(s.createRef)(),ze=Be.a,Xe=function(e){Object(Me.a)(n,e);var t=Object(Le.a)(n);function n(e){var r;return Object(Qe.a)(this,n),(r=t.call(this,e)).state=void 0,r.onSuggestionsClearRequested=function(){r.setState({suggestions:[]})},r.anyWord=function(e,t){var n,r=Object(O.a)(e);try{for(r.s();!(n=r.n()).done;){var a,c=n.value,s=Object(O.a)(t);try{for(s.s();!(a=s.n()).done;){var o=a.value;if(c.test(o))return!0}}catch(i){s.e(i)}finally{s.f()}}}catch(i){r.e(i)}finally{r.f()}return!1},r.state={value:e.tekst||"",suggestions:r.getSuggestions(""),highlighted:""},r}return Object(Ge.a)(n,[{key:"componentDidMount",value:function(){setTimeout((function(){setTimeout((function(){window.focus(),Je.current.focus()}),500)}),100)}},{key:"render",value:function(){var e=this,t=this.state,n=t.value,r=t.suggestions;return Object(He.jsx)(ze,{onSuggestionsClearRequested:this.onSuggestionsClearRequested,multiSection:!0,suggestions:r,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested.bind(this),onSuggestionSelected:this.onSuggestionSelected.bind(this),getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,renderSectionTitle:this.renderSectionTitle,getSectionSuggestions:this.getSectionSuggestions,onSuggestionHighlighted:this.onSuggestionHighlighted.bind(this),highlightFirstSuggestion:!0,renderInputComponent:this.renderInputComponent,renderSuggestionsContainer:this.renderSuggestionsContainer,inputProps:{placeholder:"Type 'promocode'",value:n,onChange:function(t,n){return e.onChange(t,n)}}})}},{key:"onSuggestionSelected",value:function(e,t){var n=t.suggestion;this.props.onSelectQuestion(n.categoryId,n.questionId)}},{key:"renderSuggestion",value:function(e,t){var n=Pe()(e.text,t.query),r=Ye()(e.text,n);return Object(He.jsx)("span",{children:r.map((function(e,t){var n=e.highlight?"react-autosuggest__suggestion-match":void 0;return Object(He.jsx)("span",{className:n,children:e.text},t)}))})}},{key:"renderSectionTitle",value:function(e){return Object(He.jsx)("strong",{children:e.title})}},{key:"renderInputComponent",value:function(e){e.ref;var t=Object(Ue.a)(e,Ze);return Object(He.jsx)("div",{children:Object(He.jsx)("input",Object(j.a)(Object(j.a)({},t),{},{ref:Je}))})}},{key:"renderSuggestionsContainer",value:function(e){var t=e.containerProps,n=e.children;e.query;return Object(He.jsx)("div",Object(j.a)(Object(j.a)({},t),{},{children:Object(He.jsx)("span",{children:n})}))}},{key:"onChange",value:function(e,t){var n=t.newValue;t.method;this.setState({value:n})}},{key:"onSuggestionsFetchRequested",value:function(e){var t=e.value;this.setState({suggestions:this.getSuggestions(t)})}},{key:"getSuggestions",value:function(e){var t=this,n=e.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(""===n)return[];var r=n.split(" ").map((function(e){return new RegExp(e,"i")})),a=this.props,c=a.categories,s=a.categoryQuestions;return c.map((function(e){return console.log("categoryId:",e.categoryId,s.get(e.categoryId).questions),Object(j.a)(Object(j.a)({},e),{},{questions:s.get(e.categoryId).questions.filter((function(e){return t.anyWord(r,e.words)}))})})).filter((function(e){return e.questions.length>0}))}},{key:"getSuggestionValue",value:function(e){return e.text}},{key:"getSectionSuggestions",value:function(e){return e.questions}},{key:"onSuggestionHighlighted",value:function(e){this.setState({highlighted:e.suggestion})}}]),n}(s.Component),$e=n(43),Ke=n(30),et=n(285)("#666ee8");var tt=Object(u.b)((function(e,t){return{options:e.usersState.userOptions,id:t.id}}))((function(e){var t=e.id,n=e.options.find((function(e){return e.value===t}));return Object(He.jsx)("span",{children:n?n.label:"Unknown"})})),nt=function(e){var t=e.category,n=t.categoryId,r=t.title,a=t.questions,c=t.isExpanded,s=t.createdBy,o=t.created,i=Object($e.a)({enableReinitialize:!0,initialValues:{categoryId:n,title:r,questions:a,isExpanded:c,createdBy:s,created:o},validationSchema:Ke.b({title:Ke.c().max(150,"Must be 150 characters or less").required("Required")}),onSubmit:function(t){e.saveForm(t,e.formMode)}}),u=function(){return"edit"===e.formMode};return console.log("RENDERING",i.values),Object(He.jsxs)(He.Fragment,{children:[Object(He.jsxs)("form",{onSubmit:i.handleSubmit,children:[Object(He.jsx)("label",{className:"id",htmlFor:"categoryId",children:"CategoryId:"}),Object(He.jsx)("span",{id:"categoryId",children:i.values.categoryId}),Object(He.jsx)("label",{htmlFor:"title",children:"Title"}),Object(He.jsx)("textarea",{id:"title",name:"title",onChange:i.handleChange,onBlur:function(e){u()&&i.initialValues.title!==i.values.title&&i.submitForm()},value:i.values.title,style:{width:"100%"},rows:2}),i.touched.title&&i.errors.title?Object(He.jsx)("div",{children:i.errors.title}):null,Object(He.jsx)("br",{}),Object(He.jsx)("label",{className:"id",htmlFor:"createdBy",children:"Created by:"}),Object(He.jsx)(tt,{id:i.values.createdBy}),Object(He.jsx)("br",{}),!u()&&Object(He.jsxs)("div",{className:"buttons",children:[e.canEdit&&Object(He.jsx)("button",{className:"secondary",onClick:function(){return e.cancel()},children:"Cancel"}),e.canEdit&&Object(He.jsx)("button",{type:"submit",children:"Save"})]})]}),Object(He.jsx)("label",{className:"id",htmlFor:"created",children:"Created:"}),Object(He.jsx)("span",{children:i.values.created.toLocaleDateString()})]})},rt=Object(u.b)((function(e,t){var n=e.categoriesState;return{category:n.category,formMode:n.formMode,canEdit:t.canEdit}}),(function(e){return{saveForm:function(t,n){return e("add"===n?G(!0,t):M(!0,t))},cancel:function(){return e((function(e){try{e({type:m.CANCEL_CATEGORY})}catch(t){console.error(t)}}))},setIsDetail:function(t){e(A(t))}}}))((function(e){return Object(He.jsx)("div",{style:{height:"100%"},className:"formik-example formik-example--blue",children:Object(He.jsx)("div",{style:{height:"100%",background:et.blue[5],padding:"1rem 1rem"},children:Object(He.jsx)("div",{style:{borderRadius:"4px",boxShadow:"0 8px 16px rgba(0,0,0,.2)",background:"#fff",maxWidth:"90%",margin:"0 auto",padding:"1rem"},children:Object(He.jsx)("div",{className:"formik-example formik-example--blue",children:Object(He.jsx)(nt,Object(j.a)({},e))})})})})})),at=n(18),ct=n(14);var st=Be.a,ot=function(e){Object(Me.a)(n,e);var t=Object(Le.a)(n);function n(e){var r;return Object(Qe.a)(this,n),(r=t.call(this,e)).state=void 0,r.onSuggestionsClearRequested=function(){r.setState({suggestions:[]})},r.anyWord=function(e,t){var n,r=Object(O.a)(e);try{for(r.s();!(n=r.n()).done;){var a,c=n.value,s=Object(O.a)(t);try{for(s.s();!(a=s.n()).done;){var o=a.value;if(c.test(o))return!0}}catch(i){s.e(i)}finally{s.f()}}}catch(i){r.e(i)}finally{r.f()}return!1},r.state={value:"",suggestions:r.getSuggestions(""),highlighted:""},r}return Object(Ge.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.value,r=t.suggestions;return Object(He.jsx)(st,{onSuggestionsClearRequested:this.onSuggestionsClearRequested,multiSection:!1,suggestions:r,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested.bind(this),onSuggestionSelected:this.onSuggestionSelected.bind(this),getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,onSuggestionHighlighted:this.onSuggestionHighlighted.bind(this),highlightFirstSuggestion:!0,renderSuggestionsContainer:this.renderSuggestionsContainer,inputProps:{placeholder:"Search answers...",value:n,onChange:function(t,n){return e.onChange(t,n)}}})}},{key:"onSuggestionSelected",value:function(e,t){var n=t.suggestion;this.props.assignQuestionAnswer(this.props.question.categoryId,this.props.question.questionId,n.answerId),this.setState({value:""})}},{key:"renderSuggestion",value:function(e,t){var n=Pe()(e.text,t.query),r=Ye()(e.text,n);return Object(He.jsx)("span",{children:r.map((function(e,t){var n=e.highlight?"react-autosuggest__suggestion-match":void 0;return Object(He.jsx)("span",{className:n,children:e.text},t)}))})}},{key:"renderSuggestionsContainer",value:function(e){var t=e.containerProps,n=e.children;e.query;return Object(He.jsx)("div",Object(j.a)(Object(j.a)({},t),{},{children:Object(He.jsx)("span",{children:n})}))}},{key:"onChange",value:function(e,t){var n=t.newValue;t.method;this.props.setAnswerText&&this.props.setAnswerText(n),this.setState({value:n})}},{key:"onSuggestionsFetchRequested",value:function(e){var t=e.value;this.setState({suggestions:this.getSuggestions(t)})}},{key:"getSuggestions",value:function(e){var t=this,n=e.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(""===n)return[];var r=n.split(" ").map((function(e){return new RegExp(e,"i")}));return this.props.answersUnassigned.filter((function(e){return t.anyWord(r,e.words)}))}},{key:"getSuggestionValue",value:function(e){return e.text}},{key:"onSuggestionHighlighted",value:function(e){this.setState({highlighted:e.suggestion})}}]),n}(s.Component);function it(){var e=Object(s.useState)({isHovered:!1}),t=Object(ke.a)(e,2),n=t[0],r=t[1],a=Object(s.useRef)(null),c=function(){return r({isHovered:!0})},o=function(){return r({isHovered:!1})};return Object(s.useEffect)((function(){var e=a.current;if(e)return e.addEventListener("mouseenter",(function(){return c()})),e.addEventListener("mouseleave",(function(){return o()})),function(){e.removeEventListener("mouseenter",(function(){return c()})),e.removeEventListener("mouseleave",(function(){return o()}))}}),[a.current]),[a,n]}var ut=function(e){var t=it(),n=Object(ke.a)(t,2),r=n[0],a=n[1],c=e.question,s=e.questionAnswer,o=(e.selectQuestionAnswer,e.copyQuestionAnswer,e.removeQuestionAnswer),i=c.categoryId,u=c.questionId,d=s.answerId;s.text,"inputQuestionAnswer".concat(d);return Object(He.jsxs)("div",{ref:r,className:"name",children:[Object(He.jsx)("button",{className:"question-button",onClick:function(){alert("No action for the time being")},children:s.text}),a.isHovered&&Object(He.jsx)("button",{className:"button-edit",title:"Copy Answer to Cliboard",onClick:function(e){navigator.clipboard&&navigator.clipboard.writeText("".concat(s.text)).then((function(){console.log("Copied to clipboard successfully.")}),(function(e){console.log("Failed to copy the text to clipboard.",e)})),e.stopPropagation()},children:Object(He.jsx)(at.a,{icon:ct.g,color:"lightblue"})}),a.isHovered&&Object(He.jsx)("button",{className:"button-remove",title:"Remove",onClick:function(e){o(i,u,d),e.preventDefault()},children:Object(He.jsx)(at.a,{icon:ct.n,color:"lightblue"})})]})},dt=function(e){var t=e.question,n=e.questionAnswers,r=e.answers,a=e.canEdit,c=e.formMode,o=e.selectQuestionAnswer,i=e.copyQuestionAnswer,u=e.removeQuestionAnswer,d=e.assignQuestionAnswer,l=e.setIsDetail,b=null===r||void 0===r?void 0:r.filter((function(e){return!t.answers.map((function(e){return e.answerId})).includes(e.answerId)})),j=s.useState(""),O=Object(ke.a)(j,2),h=(O[0],O[1]);return Object(He.jsx)("div",{className:"name-container question-answers",children:n.length>-1&&Object(He.jsx)(He.Fragment,{children:Object(He.jsxs)("table",{width:"100%",children:[Object(He.jsx)("thead",{children:Object(He.jsxs)("tr",{children:[Object(He.jsx)("th",{children:0===n.length?"No answers yet":"Answers"}),a&&"display"!==c&&Object(He.jsx)("th",{})]})}),Object(He.jsxs)("tbody",{children:[n.map((function(e){return Object(He.jsx)("tr",{children:Object(He.jsx)("td",{className:"name",title:"AnswerId:".concat(e.answerId,"\nAssigned: ").concat(e.assigned.toLocaleDateString()," ").concat(e.assigned.toLocaleTimeString()),children:Object(He.jsx)(ut,{question:t,questionAnswer:e,selectQuestionAnswer:o,copyQuestionAnswer:i,removeQuestionAnswer:u},e.answerId)})},e.answerId)})),a&&"display"!==c&&Object(He.jsxs)("tr",{children:[Object(He.jsx)("td",{children:Object(He.jsx)(ot,{question:t,answersUnassigned:b,assignQuestionAnswer:d,setAnswerText:function(e){h(e)}})}),Object(He.jsx)("td",{width:"35px",children:Object(He.jsx)("button",{className:"button-edit",title:"Add a new Answer",onClick:function(e){!function(e){l(e);var t=document.getElementById("divDetailView");t.classList.add("detail-view-open"),t.style.zIndex="3"}(!0),e.preventDefault()},children:Object(He.jsx)(at.a,{icon:ct.i,color:"lightblue"})})})]})]})]})})})};function lt(e){var t=!!e.disabled;return Object(He.jsx)("select",{id:e.id,value:e.value,onChange:function(t){var n=t.currentTarget.selectedIndex,r=e.options[n];e.onChange(t,r.value)},disabled:t,children:e.options.map((function(e){return Object(He.jsx)("option",{value:e.value,children:e.label},e.value)}))})}var bt=[{label:"Unknown",value:0},{label:"Gmail",value:1},{label:"Outlook",value:2},{label:"Phone",value:3},{label:"Chat",value:4},{label:"Slack",value:5}],jt=[{label:"Unknown",value:0},{label:"In progress",value:1},{label:"Can't reproduce",value:2},{label:"Blocked",value:3},{label:"Complete",value:4}],Ot=function(e){var t=e.question,n=Object($e.a)({enableReinitialize:!0,initialValues:{categoryId:t.categoryId,questionId:t.questionId,text:t.text,source:t.source,status:t.status,answers:t.answers,createdBy:t.createdBy,created:t.created},validationSchema:Ke.b({text:Ke.c().max(150,"Must be 150 characters or less").required("Required"),categoryId:Ke.a().moreThan(0,"Select Category").required("Required")}),onSubmit:function(t){e.saveForm(t,e.formMode),e.handleClose()}}),r=function(){return"edit"===e.formMode};return console.log("RENDERING",n.values),Object(He.jsxs)(He.Fragment,{children:[Object(He.jsxs)("form",{onSubmit:n.handleSubmit,className:"formik-example",children:[Object(He.jsx)("label",{className:"id",htmlFor:"questionId",children:"QuestionId: "}),Object(He.jsx)("span",{id:"questionId",children:n.values.questionId}),Object(He.jsx)("br",{}),Object(He.jsx)("label",{htmlFor:"categoryId",children:"Category"}),Object(He.jsx)(lt,{id:"categoryId",name:"categoryId",options:e.categoryOptions,onChange:function(e,t){n.setFieldValue("categoryId",t),r()&&n.submitForm()},value:n.values.categoryId}),n.errors.categoryId&&Object(He.jsx)("div",{className:"field-error",children:n.errors.categoryId}),Object(He.jsx)("label",{htmlFor:"text",children:"Text"}),Object(He.jsx)("textarea",{id:"text",name:"text",onChange:n.handleChange,onBlur:function(e){r()&&n.initialValues.text!==n.values.text&&n.submitForm()},value:n.values.text,style:{width:"100%"},rows:2}),n.touched.text&&n.errors.text?Object(He.jsx)("div",{className:"field-error",children:n.errors.text}):null,Object(He.jsx)("label",{htmlFor:"source",children:"Source"}),Object(He.jsx)(lt,{id:"source",name:"source",options:bt,onChange:function(e,t){n.setFieldValue("source",t),r()&&n.submitForm()},value:n.values.source}),Object(He.jsx)("br",{}),Object(He.jsx)(dt,{question:t,questionAnswers:e.questionAnswers,answers:e.answers,canEdit:e.canEdit,formMode:e.formMode,selectQuestionAnswer:e.selectQuestionAnswer,copyQuestionAnswer:e.copyQuestionAnswer,removeQuestionAnswer:e.removeQuestionAnswer,assignQuestionAnswer:e.assignQuestionAnswer,setIsDetail:e.setIsDetail}),Object(He.jsx)("br",{}),Object(He.jsx)("label",{htmlFor:"status",children:"Status"}),Object(He.jsx)(lt,{id:"status",name:"status",options:jt,onChange:function(e,t){n.setFieldValue("status",t),r()&&n.submitForm()},value:n.values.status}),Object(He.jsx)("label",{className:"id",htmlFor:"createdBy",children:"Created by:"}),Object(He.jsx)(tt,{id:n.values.createdBy}),Object(He.jsx)("br",{}),!r()&&Object(He.jsxs)("div",{className:"buttons",children:[e.canEdit&&Object(He.jsx)("button",{onClick:function(){e.cancel(),e.handleClose()},children:"Cancel"}),e.canEdit&&Object(He.jsx)("button",{type:"submit",children:"Save"})]})]}),Object(He.jsx)("label",{className:"id",htmlFor:"created",children:"Created:"}),Object(He.jsx)("span",{children:n.values.created.toLocaleDateString()})]})},ht=function(e,t){return void 0===e||0===e.answers.length||void 0===t?[]:e.answers.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{text:t.find((function(t){return t.answerId===e.answerId})).text})})).sort((function(e,t){return e.assigned<t.assigned?1:-1}))},pt=Object(u.b)((function(e,t){var n=e.categoriesState,r=e.answerState,a=n.question,c=n.categoryOptions,s=n.formMode,o=r.answers;return{categoryOptions:c,question:a,questionAnswers:ht(a,o),answers:o,formMode:s,canEdit:t.canEdit,handleClose:t.handleClose}}),(function(e){return{saveForm:function(t,n){return e("add"===n?_(!0,t):k(!0,t))},cancel:function(){return e((function(e){try{e({type:m.CANCEL_QUESTION})}catch(t){console.error(t)}}))},selectQuestionAnswer:function(t,n,r){return e(function(e,t,n){return function(){var r=Object(c.a)(Object(a.a)().mark((function r(c){return Object(a.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,q();case 3:c({type:m.REMOVE_QUESTION_ANSWER,categoryId:e,questionId:t,answerId:n}),r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),console.error(r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))},copyQuestionAnswer:function(t,n,r){return e(function(e,t,n){return function(){var r=Object(c.a)(Object(a.a)().mark((function r(c){return Object(a.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,q();case 3:c({type:m.REMOVE_QUESTION_ANSWER,categoryId:e,questionId:t,answerId:n}),r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),console.error(r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))},removeQuestionAnswer:function(t,n,r){return e(function(e,t,n){return function(){var r=Object(c.a)(Object(a.a)().mark((function r(c){return Object(a.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,q();case 3:c({type:m.REMOVE_QUESTION_ANSWER,categoryId:e,questionId:t,answerId:n}),r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),console.error(r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))},assignQuestionAnswer:function(t,n,r){return e(N(t,n,r))},setIsDetail:function(t){e(A(t))},addAndAssignNewAnswer:function(t,n,r,a){e(L(t,n,r,a))}}}))((function(e){return Object(He.jsx)("div",{style:{height:"100%"},className:"formik-example formik-example--blue",children:Object(He.jsx)("div",{style:{height:"100%",background:et.blue[5],padding:"1rem 1rem"},children:Object(He.jsx)("div",{style:{borderRadius:"4px",boxShadow:"0 8px 16px rgba(0,0,0,.2)",background:"#fff",maxWidth:"90%",margin:"0 auto",padding:"1rem"},children:Object(He.jsx)("div",{className:"formik-example formik-example--blue",children:Object(He.jsx)(Ot,Object(j.a)({},e))})})})})})),ft=n(296),gt=n(297),mt=n(157),xt=function(e){var t=it(),n=Object(ke.a)(t,2),r=n[0],a=n[1],c=e.question,s=e.onSelectQuestion,o=e.edit,i=e.remove,u=c.categoryId,d=c.questionId;return Object(He.jsxs)("div",{ref:r,className:"name",children:[Object(He.jsx)("button",{className:"question-button",onClick:function(){return s(u,d)},children:c.text}),a.isHovered&&Object(He.jsx)("button",{className:"button-edit",title:"Edit",onClick:function(){return o(u,d,!0)},children:Object(He.jsx)(at.a,{icon:ct.h,color:"lightblue"})}),a.isHovered&&Object(He.jsx)("button",{className:"button-remove",title:"Remove",onClick:function(){return i(u,d)},children:Object(He.jsx)(at.a,{icon:ct.n,color:"lightblue"})})]})},yt=function(e){var t=it(),n=Object(ke.a)(t,2),r=n[0],a=n[1],c=e.category,s=e.toggleCategory,o=e.editCategory,i=e.removeCategory,u=e.onSelectCategory,d=c.categoryId,l=c.title,b=c.questions,j=c.isExpanded;return Object(He.jsxs)("div",{ref:r,className:"name",children:[Object(He.jsx)("button",{className:"button-edit",title:"Expand",onClick:function(){return s(d)},style:{marginLeft:"5px"},children:Object(He.jsx)(at.a,{icon:j?ct.d:ct.e,color:"orange",size:"lg"})}),Object(He.jsx)("span",{className:"question-group-title",onClick:function(){return u(d)},children:l}),a.isHovered&&Object(He.jsx)("button",{className:"button-edit",title:"Edit Category",onClick:function(){return o(d)},children:Object(He.jsx)(at.a,{icon:ct.h,color:"lightblue"})}),a.isHovered&&0===b.length&&Object(He.jsx)("button",{className:"button-remove",title:"Remove Category",onClick:function(){return i(d)},children:Object(He.jsx)(at.a,{icon:ct.n,color:"lightblue"})})]},d)},vt=function(e){var t=e.categories,n=e.categoryQuestions,r=e.categoryIdEditing,a=e.onSelectCategory,c=e.onSelectQuestion,o=e.add,i=e.edit,u=e.remove,d=(e.canEdit,e.addCategory),l=e.toggleCategory,b=e.editCategory,O=e.removeCategory,h=e.updateCategory,p=(e.who,Object(s.useRef)(null));return setTimeout((function(){null!==p.current&&(p.current.select(),p.current.focus())}),100),console.log("RENDERUJEM Categories -----------\x3e>>>>>>>>>"),Object(He.jsxs)(He.Fragment,{children:[Object(He.jsxs)("h3",{children:["Categories",Object(He.jsx)("button",{className:"button-add-category",title:"Add a new Category",onClick:function(){return d()},children:Object(He.jsx)(at.a,{icon:ct.i,size:"xs",color:"lightblue"})})]}),t.map((function(e){var t=e.categoryId,s=e.title,d=e.isExpanded,f=n.get(t).questions;return Object(He.jsxs)("div",{style:{paddingBottom:"5px"},children:[Object(He.jsxs)("div",{style:{textAlign:"start"},children:[r===t&&Object(He.jsx)("input",{ref:p,name:"groupTitle",type:"text",onBlur:function(t){return h(Object(j.a)(Object(j.a)({},e),{},{title:t.target.value}))},defaultValue:s}),r!==t&&Object(He.jsx)(yt,{category:e,onSelectCategory:a,toggleCategory:l,editCategory:b,removeCategory:O},e.categoryId)]}),d&&Object(He.jsxs)("div",{className:"group-categories",style:{textAlign:"start"},children:[f.map((function(e){return Object(He.jsx)(xt,{question:e,onSelectQuestion:c,edit:i,remove:u},e.questionId)})),Object(He.jsx)("div",{style:{marginLeft:"0%"},children:Object(He.jsx)("button",{className:"button-add",title:"Add a new Question",onClick:function(){return o(e.categoryId,"",!0)},children:Object(He.jsx)(at.a,{icon:ct.i,size:"xs",color:"lightblue"})})})]})]},t)}))]})},Et=Object(u.b)((function(e,t){var n=e.categoriesState,r=e.tagState,a=e.topState,c=n.categories,s=n.categoryQuestions,o=n.showCategoryForm,i=n.category,u=n.showQuestionForm,d=n.question,l=n.categoryOptions,b=n.formMode,j=n.categoryIdEditing,O=n.isDetail;return{categories:c,categoryQuestions:s,categoryOptions:l,showCategoryForm:o,category:i,showQuestionForm:u,question:d,formMode:b,categoryIdEditing:j,canEdit:t.canEdit,isDetail:O,tagOptions:r.tags.map((function(e){return{label:e.name,value:e.tagId,color:e.color}})),who:a.top.auth.who,navbarOpen:a.top.navbarOpen}}),(function(e){return{onSelectQuestion:function(t,n){e(I(t,n)),e(U())},add:function(t,n,r){e(S(t,n)),e(U())},edit:function(t,n,r){return e(function(e,t,n){return function(){var r=Object(c.a)(Object(a.a)().mark((function r(c){return Object(a.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:try{c({type:m.EDIT_QUESTION,categoryId:e,questionId:t,showCategoryForm:!1,showQuestionForm:n})}catch(a){console.error(a)}case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))},remove:function(t,n){return e(T(t,n))},closeQuestionForm:function(){return e(D())},openQuestionForm:function(){return e(U())},addAndAssignNewAnswer:function(t,n,r,a){e(L(t,n,r,a))},onSelectCategory:function(t){return e(function(e){return function(){var t=Object(c.a)(Object(a.a)().mark((function t(n){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:m.GET_CATEGORY,categoryId:e})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},addCategory:function(){return e(function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:m.ADD_CATEGORY,showCategoryForm:!0})}catch(n){console.error(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},toggleCategory:function(t){return e(function(e){return function(){var t=Object(c.a)(Object(a.a)().mark((function t(n){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:m.TOGGLE_CATEGORY,categoryId:e})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},editCategory:function(t){return e(function(e){return function(){var t=Object(c.a)(Object(a.a)().mark((function t(n){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:m.EDIT_CATEGORY,categoryId:e,showCategoryForm:!0})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},removeCategory:function(t){return e(Q(!0,t))},storeCategory:function(t){return e(G(!0,t))},updateCategory:function(t){return e(M(!0,t))}}}))(vt),wt=function(e){var t=Object(De.o)().tekst,n=e.categories,r=e.categoryQuestions,a=e.showCategoryForm,c=e.category,o=e.showQuestionForm,i=e.question,u=e.formMode,d=e.canEdit,l=e.onSelectQuestion,b=n&&(c||i),O=Object(s.useRef)(null);return setTimeout((function(){null!==O.current&&(O.current.select(),O.current.focus())}),100),console.log("RENDERUJEM Categories -----------\x3e>>>>>>>>>"),Object(He.jsx)(He.Fragment,{children:Object(He.jsx)(ft.a,{fluid:!0,children:Object(He.jsxs)(gt.a,{style:{border:"3px solid lightblue"},children:[Object(He.jsx)(mt.a,{md:b?6:12,lg:b?6:12,style:{padding:"10px",backgroundColor:"#eff3f6",color:"#686c71"},children:Object(He.jsxs)("div",{style:{border:"0px solid silver",backgroundColor:"white"},children:[Object(He.jsx)(Xe,{categories:n,categoryQuestions:r,tekst:t,onSelectQuestion:function(e,t){return l(e,t)}}),Object(He.jsx)("hr",{}),n&&Object(He.jsx)(Et,Object(j.a)({},e))]})}),Object(He.jsx)(mt.a,{md:b?6:0,lg:b?6:0,style:{backgroundColor:"#eff3f6",color:"#686c71",padding:"10px"},children:Object(He.jsxs)("div",{style:{border:"0px solid silver",backgroundColor:"white"},children:[n&&a&&c&&Object(He.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"5px 5px 15px 5px",background:et.blue[5]},children:[Object(He.jsx)("h4",{style:{marginTop:0,color:"white"},children:"Category"}),"display"===u?Object(He.jsx)(rt,{canEdit:!1}):Object(He.jsx)(rt,{canEdit:d})]}),n&&o&&i&&Object(He.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"5px 5px 15px 5px",background:et.blue[5]},children:[Object(He.jsx)("h4",{style:{marginTop:0,color:"white"},children:"Question"}),"display"===u?Object(He.jsx)(pt,{canEdit:!1,handleClose:function(){}}):Object(He.jsx)(pt,{canEdit:d,handleClose:function(){}})]})]})})]})})})},It=n(79),St=function(e){var t=Object(De.o)().tekst,n=e.categories,r=e.categoryQuestions,a=e.question,c=e.showQuestionForm,o=e.onSelectQuestion,i=e.add,u=e.closeQuestionForm,d=e.canEdit;console.log("tekst:",t);var l=Object(s.useState)(!1),b=Object(ke.a)(l,2),j=b[0],O=b[1],h=function(){return O(!1)};return c&&u(),Object(He.jsxs)("div",{className:"name-container",children:[Object(He.jsxs)("div",{className:"two-columns",children:[Object(He.jsx)("div",{className:"a",children:Object(He.jsxs)("div",{style:{display:"flex"},children:[Object(He.jsx)(Xe,{categories:n,categoryQuestions:r,tekst:t,onSelectQuestion:function(e,t){return o(e,t)}}),Object(He.jsx)("button",{className:"button-edit",title:"Create a new Question",onClick:function(){O(!0),i(0,null!==t&&void 0!==t?t:"",!0)},children:Object(He.jsx)(at.a,{icon:ct.i,color:"lightblue"})})]})}),Object(He.jsx)("div",{className:"b",children:n&&a&&c&&Object(He.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"5px 5px 15px 5px",background:et.blue[5]},children:[Object(He.jsx)("h4",{style:{marginTop:0,color:"white"},children:"Question"}),Object(He.jsx)(pt,{canEdit:d,handleClose:function(){}})]})})]}),Object(He.jsxs)(It.a,{show:j,onHide:h,animation:!0,size:"lg",centered:!0,children:[Object(He.jsx)(It.a.Header,{closeButton:!0,children:Object(He.jsx)(It.a.Title,{children:"Store question"})}),Object(He.jsx)(It.a.Body,{children:Object(He.jsx)(pt,{canEdit:d,handleClose:h})})]})]})},Tt=function(e,t){var n=e.categoriesState,r=e.tagState,a=e.topState,c=n.categories,s=n.categoryQuestions,o=n.showCategoryForm,i=n.category,u=n.showQuestionForm,d=n.question,l=n.categoryOptions,b=n.formMode,j=n.categoryIdEditing,O=n.isDetail;return{categories:c,categoryQuestions:s,categoryOptions:l,showCategoryForm:o,category:i,showQuestionForm:u,question:d,formMode:b,categoryIdEditing:j,canEdit:t.canEdit,isDetail:O,tagOptions:r.tags.map((function(e){return{label:e.name,value:e.tagId,color:e.color}})),who:a.top.auth.who,navbarOpen:a.top.navbarOpen}},Nt=function(e){return{onSelectQuestion:function(t,n){e(I(t,n)),e(U())},add:function(t,n,r){return e(S(t,n))},closeQuestionForm:function(){return e(D())}}},At={categories:Object(u.b)(Tt,Nt)(wt),supporter:Object(u.b)(Tt,Nt)(St)};setTimeout((function(){var e=document.querySelector("#divKnowledge");e&&e.setAttribute("style","display:none")}),1e4);var Rt=function(){return Object(He.jsxs)(He.Fragment,{children:[Object(He.jsx)("h2",{style:{textAlign:"center",marginBlockStart:"0.66rem",marginBlockEnd:"0.1rem"},children:"Questions & Answers"}),Object(He.jsx)("div",{id:"divKnowledge",className:"knowledge",children:Object(He.jsx)("h5",{style:{textAlign:"center",color:"blue",fontSize:"15px"},children:Object(He.jsxs)("i",{children:["A knowledge base for sharing information.",Object(He.jsx)("br",{}),"When you record your experiences and insights, ",Object(He.jsx)("br",{}),"other members of your team can share info."]})})}),Object(He.jsx)(At.supporter,{canEdit:!0})]})},_t=function(e){var t=Object($e.a)({enableReinitialize:!0,initialValues:{answerId:e.answer.answerId,text:e.answer.text,createdBy:e.answer.createdBy,created:e.answer.created},validationSchema:Ke.b({text:Ke.c().max(150,"Must be 150 characters or less").required("Required")}),onSubmit:function(t){e.saveForm(t,e.formMode)}}),n=function(){return"edit"===e.formMode};return console.log("RENDERING",t.values),Object(He.jsxs)("form",{onSubmit:t.handleSubmit,children:["add"!==e.formMode&&Object(He.jsxs)(He.Fragment,{children:[Object(He.jsx)("label",{className:"id",htmlFor:"answerId",children:"Answer Id: "}),Object(He.jsx)("span",{id:"answerId",children:t.values.answerId})]}),Object(He.jsx)("label",{htmlFor:"text",children:"Answer"}),Object(He.jsx)("textarea",{id:"text",name:"text",onChange:t.handleChange,onBlur:function(e){n()&&t.submitForm()},value:t.values.text,rows:2,style:{width:"100%"}}),t.touched.text&&t.errors.text?Object(He.jsx)("div",{children:t.errors.text}):null,Object(He.jsx)("label",{className:"id",htmlFor:"createdBy",children:"Created by:"}),Object(He.jsx)(tt,{id:t.values.createdBy}),Object(He.jsx)("br",{}),Object(He.jsx)("label",{className:"id",htmlFor:"created",children:"Created:"}),Object(He.jsx)("span",{children:t.values.created.toLocaleDateString()}),!n()&&Object(He.jsxs)("div",{className:"buttons",children:[Object(He.jsx)("button",{onClick:function(){return e.cancel()},children:"Cancel"}),Object(He.jsx)("button",{type:"submit",children:"Save"})]})]})},Ct=function(e){return Object(He.jsx)("div",{style:{height:"100%"},className:"formik-example formik-example--blue",children:Object(He.jsx)("div",{style:{height:"100%",background:et.blue[5],padding:"0.1rem 0.1rem"},children:Object(He.jsx)("div",{style:{borderRadius:"4px",boxShadow:"0 8px 16px rgba(0,0,0,.2)",background:"#fff",maxWidth:"90%",margin:"0 auto",padding:"0.5rem"},children:Object(He.jsx)("div",{className:"formik-example formik-example--blue",children:Object(He.jsx)(_t,Object(j.a)({},e))})})})})},kt=function(e){var t=e.answer,n=e.usedAnswers,r=e.edit,a=e.remove;return Object(He.jsxs)("tr",{children:[Object(He.jsx)("td",{className:"name",children:t.answerId}),Object(He.jsx)("td",{className:"name",children:t.text}),Object(He.jsx)("td",{children:Object(He.jsx)("button",{className:"button-edit",title:"Add a new Answer",onClick:function(){return r(t.answerId)},children:Object(He.jsx)(at.a,{icon:ct.h,color:"lightblue"})})}),Object(He.jsx)("td",{children:Object(He.jsx)("button",{disabled:n.map((function(e){return e.answerId})).includes(t.answerId),className:"button-remove",title:"Remove Answer",onClick:function(){return a(t.answerId)},children:Object(He.jsx)(at.a,{icon:ct.n,color:"lightblue"})})})]},t.answerId)},qt=function(e){var t=e.answers,n=e.usedAnswers,r=e.edit,a=e.remove;return Object(He.jsxs)("table",{width:"100%",children:[Object(He.jsx)("thead",{children:Object(He.jsxs)("tr",{children:[Object(He.jsx)("th",{children:"Id"}),Object(He.jsx)("th",{children:"Answer"}),Object(He.jsx)("th",{}),Object(He.jsx)("th",{})]})}),Object(He.jsx)("tbody",{children:t.map((function(e){return Object(He.jsx)(kt,{answer:e,usedAnswers:n,edit:r,remove:a},e.answerId)}))})]})},Dt=function(e){var t=Object(De.o)().slug,n=e.answers,r=e.answer,a=e.usedAnswers,c=e.formMode,s=e.add,o=e.edit,i=e.remove,u=e.cancel,d=e.saveForm;return Object(He.jsxs)("div",{className:"name-container",children:[t,0===n.length&&Object(He.jsx)("div",{children:"No answers at all"}),n.length>0&&Object(He.jsxs)("div",{className:"two-columns",children:[Object(He.jsxs)("div",{className:"a",children:[Object(He.jsx)(qt,{answers:n,usedAnswers:a,edit:o,remove:i}),Object(He.jsx)("button",{onClick:function(){return s()},children:"Add new"})]}),Object(He.jsxs)("div",{className:"b",children:["add"===c&&Object(He.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"5px 5px 15px 5px",background:et.blue[5]},children:[Object(He.jsx)("h4",{style:{marginTop:0,color:"white"},children:"New Answer"}),Object(He.jsx)(Ct,{answer:r,formMode:c,cancel:u,saveForm:function(e){return d(e,c)}})]}),"edit"===c&&Object(He.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"5px 5px 15px 5px",background:et.blue[5]},children:[Object(He.jsx)("h4",{style:{marginTop:0,color:"white"},children:"Edit Answer"}),Object(He.jsx)(Ct,{answer:r,formMode:c,cancel:u,saveForm:function(e){return d(e,c)}})]})]})]})]})},Ut=function(e){var t,n=[],r=Object(O.a)(e);try{for(r.s();!(t=r.n()).done;){var a,c=t.value,s=Object(O.a)(c.questions);try{for(s.s();!(a=s.n()).done;){var o=a.value;n=n.concat(o.answers)}}catch(i){s.e(i)}finally{s.f()}}}catch(i){r.e(i)}finally{r.f()}return n},Qt=Object(u.b)((function(e){return{answers:e.answerState.answers,answer:e.answerState.answer,formMode:e.answerState.formMode,usedAnswers:Ut(e.categoriesState.categories),who:e.topState.top.auth.who}}),(function(e){return{add:function(){return e(x())},edit:function(t){return e(function(e){return function(){var t=Object(c.a)(Object(a.a)().mark((function t(n){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:r.EDIT_ANSWER,answerId:e})}catch(a){console.error(a)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},remove:function(t){return e(function(e){return function(){var t=Object(c.a)(Object(a.a)().mark((function t(n){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:r.REMOVE_ANSWER,answerId:e})}catch(a){console.error(a)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},saveForm:function(t,n){return e(y(t,n))},cancel:function(){return e((function(e){try{e({type:r.CANCEL_ANSWER})}catch(t){console.error(t)}}))}}}))(Dt),Gt=function(e){var t=Object($e.a)({enableReinitialize:!0,initialValues:{roleId:e.user.roleId,userId:e.user.userId,userName:e.user.userName,pwd:e.user.pwd,department:e.user.department,createdBy:e.user.createdBy,created:e.user.created},validationSchema:Ke.b({name:Ke.c().max(150,"Must be 150 characters or less").required("Required")}),onSubmit:function(t){e.saveForm(t,e.formMode)}}),n=function(){return"edit"===e.formMode};return console.log("RENDERING user",t.values),Object(He.jsxs)(He.Fragment,{children:[Object(He.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(He.jsx)("label",{className:"id",htmlFor:"userId",children:"UserId:"}),Object(He.jsx)("span",{id:"userId",children:t.values.userId}),Object(He.jsx)("label",{htmlFor:"roleId",children:"Role"}),Object(He.jsx)(lt,{id:"roleId",name:"roleId",options:e.roleOptions,onChange:function(e,r){t.setFieldValue("roleId",r),n()&&t.submitForm()},value:t.values.roleId}),Object(He.jsx)("label",{htmlFor:"userName",children:"Name"}),Object(He.jsx)("textarea",{id:"userName",name:"userName",onChange:t.handleChange,onBlur:function(e){n()&&t.submitForm()},value:t.values.userName,style:{width:"100%"},rows:2}),t.touched.userName&&t.errors.userName?Object(He.jsx)("div",{children:t.errors.userName}):null,Object(He.jsx)("label",{className:"id",htmlFor:"createdBy",children:"Created by:"}),Object(He.jsx)(tt,{id:t.values.createdBy}),Object(He.jsx)("br",{}),!n()&&Object(He.jsxs)("div",{className:"buttons",children:[e.canEdit&&Object(He.jsx)("button",{onClick:function(){return e.cancel()},children:"Cancel"}),e.canEdit&&Object(He.jsx)("button",{type:"submit",children:"Save"})]})]}),Object(He.jsx)("label",{className:"id",htmlFor:"created",children:"Created:"}),Object(He.jsx)("span",{children:t.values.created.toLocaleDateString()})]})},Mt=Object(u.b)((function(e,t){var n=e.usersState,r=(e.tagState,n.roles),a=n.user,c=n.roleOptions,s=n.formMode,o=n.roleIdEditing,i=n.isDetail;return{roles:r,roleOptions:c,user:a,formMode:s,roleIdEditing:o,canEdit:t.canEdit,isDetail:i}}),(function(e){return{onSelectUser:function(t){return e(be(t))},add:function(t,n,r){return e(Oe(t,n))},edit:function(t,n){return e(he(t,n))},remove:function(t,n){return e(pe(t,n))},saveForm:function(t,n){return e(ge(t,n))},cancel:function(){return e((function(e){try{e({type:se.CANCEL_USER})}catch(t){console.error(t)}}))},setIsDetail:function(t){e(fe(t))}}}))((function(e){return Object(He.jsx)("div",{style:{height:"100%"},className:"formik-example formik-example--blue",children:Object(He.jsx)("div",{style:{height:"100%",background:et.blue[5],padding:"1rem 1rem"},children:Object(He.jsx)("div",{style:{borderRadius:"4px",boxShadow:"0 8px 16px rgba(0,0,0,.2)",background:"#fff",maxWidth:"90%",margin:"0 auto",padding:"1rem"},children:Object(He.jsx)("div",{className:"formik-example formik-example--blue",children:Object(He.jsx)(Gt,Object(j.a)({},e))})})})})})),Lt=function(e){var t=it(),n=Object(ke.a)(t,2),r=n[0],a=n[1],c=e.user,s=e.onSelectUser,o=e.edit,i=e.remove,u=c.roleId,d=c.userId;return Object(He.jsxs)("div",{ref:r,className:"name",children:[Object(He.jsx)("button",{className:"user-button",onClick:function(){return s(d)},children:c.userName}),a.isHovered&&Object(He.jsx)("button",{className:"button-edit",title:"Edit",onClick:function(){return o(u,d)},children:Object(He.jsx)(at.a,{icon:ct.h,color:"lightblue"})}),a.isHovered&&Object(He.jsx)("button",{className:"button-remove",title:"Remove",onClick:function(){return i(u,d)},children:Object(He.jsx)(at.a,{icon:ct.n,color:"lightblue"})})]})},Ft=function(e){var t=it(),n=Object(ke.a)(t,2),r=n[0],a=n[1],c=e.userRole,s=e.toggleRole,o=e.editRole,i=e.removeRole,u=c.roleId,d=c.title,l=c.users,b=c.isExpanded,j=c.color;return Object(He.jsxs)("div",{ref:r,className:"name",children:[Object(He.jsx)("button",{className:"button-edit",title:"Expand",onClick:function(){return s(u)},style:{marginLeft:"5px"},children:Object(He.jsx)(at.a,{icon:b?ct.d:ct.e,color:j,size:"lg"})}),Object(He.jsx)("span",{className:"role-title",style:{color:j},children:d}),a.isHovered&&Object(He.jsx)("button",{className:"button-edit",title:"Edit Section",onClick:function(){return o(u)},children:Object(He.jsx)(at.a,{icon:ct.h,color:"lightblue"})}),a.isHovered&&0===l.length&&Object(He.jsx)("button",{className:"button-remove",title:"Remove Section",onClick:function(){return i(u)},children:Object(He.jsx)(at.a,{icon:ct.n,color:"lightblue"})})]},u)},Bt=function(e){Object(De.o)().tekst;var t=e.roles,n=e.user,r=e.formMode,a=e.roleIdEditing,c=e.onSelectUser,o=e.add,i=e.edit,u=e.remove,d=e.canEdit,l=e.addRole,b=e.toggleRole,O=e.editRole,h=e.removeRole,p=e.storeRole,f=(e.setIsDetail,e.isDetail,Object(s.useRef)(null));return setTimeout((function(){null!==f.current&&(f.current.select(),f.current.focus())}),100),Object(He.jsxs)("div",{className:"name-container",children:[Object(He.jsx)("hr",{}),Object(He.jsxs)("div",{className:"two-columns",children:[Object(He.jsxs)("div",{className:"a",children:[Object(He.jsx)("h3",{children:"Users by Role"}),t&&t.map((function(e){var t=e.roleId,n=e.title,r=e.isExpanded,s=e.users;return Object(He.jsxs)("div",{style:{paddingBottom:"5px"},children:[Object(He.jsxs)("div",{style:{textAlign:"start"},children:[a===t&&Object(He.jsx)("input",{ref:f,name:"groupTitle",type:"text",onBlur:function(t){return p(Object(j.a)(Object(j.a)({},e),{},{title:t.target.value}))},defaultValue:n}),a!==t&&Object(He.jsx)(Ft,{userRole:e,toggleRole:b,editRole:O,removeRole:h})]}),r&&Object(He.jsxs)("div",{className:"group-users",style:{marginLeft:"20px",textAlign:"start"},children:[s.map((function(e){return Object(He.jsx)(Lt,{user:e,onSelectUser:c,edit:i,remove:u},e.userId)})),Object(He.jsx)("div",{style:{marginLeft:"0%"},children:Object(He.jsx)("button",{className:"button-add",title:"Add a new User",onClick:function(){return o(e.roleId,"")},children:"Add a new User"})})]})]},t)})),Object(He.jsx)("div",{style:{marginLeft:"1%"},children:Object(He.jsx)("button",{className:"button-add-category",title:"Add a new Section",onClick:function(){return l()},children:"Add a new Role"})})]}),Object(He.jsx)("div",{className:"b",children:t&&n&&Object(He.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"5px 5px 15px 5px",background:et.blue[5]},children:[Object(He.jsx)("h4",{style:{marginTop:0,color:"white"},children:"User"}),"display"===r?Object(He.jsx)("span",{children:"DisplayForm"}):Object(He.jsx)(Mt,{canEdit:d})]})})]})]})},Wt=Object(u.b)((function(e,t){var n=e.usersState,r=(e.tagState,n.roles),a=n.user,c=n.formMode,s=n.roleIdEditing,o=n.isDetail;return{roles:r,user:a,formMode:c,roleIdEditing:s,canEdit:t.canEdit,isDetail:o,who:e.topState.top.auth.who}}),(function(e){return{onSelectUser:function(t){return e(be(t))},add:function(t,n,r){return e(Oe(t,n))},edit:function(t,n){return e(he(t,n))},remove:function(t,n){return e(pe(t,n))},addRole:function(){return e(function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:se.ADD_ROLE})}catch(n){console.error(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},toggleRole:function(t){return e(function(e){return function(){var t=Object(c.a)(Object(a.a)().mark((function t(n){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:se.TOGGLE_ROLE,roleId:e})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},editRole:function(t){return e(function(e){return function(){var t=Object(c.a)(Object(a.a)().mark((function t(n){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:se.EDIT_ROLE,roleId:e})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},removeRole:function(t){return e(function(e){return function(){var t=Object(c.a)(Object(a.a)().mark((function t(n){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,me();case 3:n({type:se.REMOVE_ROLE,roleId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(t))},storeRole:function(t){return e((n=t,function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:se.STORE_ROLE,group:n})}catch(r){console.error(r)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var n},setIsDetail:function(t){e(fe(t))}}}))(Bt),Pt=function(e){var t=e.who,n=(e.formMode,e.authError),r=t.userName,a=t.pwd,c=Object(De.m)();e.isAuthenticated&&c("/questions");var s=Object($e.a)({enableReinitialize:!0,initialValues:{userName:r,pwd:a},validationSchema:Ke.b({userName:Ke.c().max(20,"Must be 20 characters or less").required("Required"),pwd:Ke.c().min(7).max(16).required()}),onSubmit:function(t){e.saveForm(t,e.formMode,e.isRegister)}});return console.log("RENDERING LoginForm",s.values),Object(He.jsx)(He.Fragment,{children:Object(He.jsxs)("form",{onSubmit:s.handleSubmit,children:[Object(He.jsx)("input",{id:"userName",name:"userName",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.userName,placeholder:"User name",maxLength:16,size:16}),s.touched.userName&&s.errors.userName?Object(He.jsx)("div",{children:s.errors.userName}):null,Object(He.jsx)("br",{}),Object(He.jsx)("input",{id:"pwd",name:"pwd",type:"password",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.pwd,placeholder:"password",maxLength:16,size:16}),s.touched.pwd&&s.errors.pwd?Object(He.jsx)("div",{children:s.errors.pwd}):null,n&&Object(He.jsx)("div",{children:n}),Object(He.jsxs)("div",{className:"buttons",children:[e.canEdit&&Object(He.jsx)("button",{onClick:function(){return e.cancel()},children:"Cancel"}),e.canEdit&&Object(He.jsx)("button",{type:"submit",children:"Save"})]})]})})},Vt=Object(u.b)((function(e,t){var n=e.topState.top,r=n.auth;return{isAuthenticated:n.isAuthenticated,uuid:n.uuid,who:r?{userName:r.who.userName,pwd:r.who.pwd}:{userName:"",pwd:""},authError:n.authError,canEdit:t.canEdit,isRegister:t.isRegister,formMode:"edit"}}),(function(e){return{saveForm:function(t,n,r){return e(r?(s=t,function(){var e=Object(c.a)(Object(a.a)().mark((function e(t,n){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t(je(s.userName)).then((function(e){if(e)t({type:w.REGISTER_USERNAME_EXISTS});else{var n={roleId:44,userId:357,userName:s.userName,pwd:s.pwd,department:"dept1",createdBy:0,created:new Date};t(ge(n,"add")).then((function(e){t({type:w.REGISTER,user:e})}))}}))}catch(n){console.error(n)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()):ie(t));var s},cancel:function(){return e((function(e){try{e({type:w.CANCEL})}catch(t){console.error(t)}}))}}}))((function(e){return Object(He.jsx)("div",{style:{height:"100%",padding:"5%",display:"flex",alignItems:"center",justifyContent:"cen0ter"},className:"formik-example formik-example--blue",children:Object(He.jsx)("div",{style:{height:"100%",background:et.blue[5],padding:"1rem 1rem",width:"300px"},children:Object(He.jsx)("div",{style:{borderRadius:"4px",boxShadow:"0 8px 16px rgba(0,0,0,.2)",background:"#fff",maxWidth:"90%",margin:"0 auto",padding:"1rem",width:"250px"},children:Object(He.jsxs)("div",{className:"formik-example formik-example--blue",children:[(e.isRegister,Object(He.jsx)("span",{children:"Register"})),Object(He.jsx)(Pt,Object(j.a)({},e))]})})})})})),Yt=function(e){return Object(He.jsx)("p",{children:"Landing page"})};var Ht=Object(u.b)((function(e){return{isAuthenticated:e.topState.top.isAuthenticated,uuid:e.topState.top.uuid}}))((function(e){var t=e.isAuthenticated;return e.uuid,e.signOut,Object(De.m)(),Object(He.jsx)("div",{className:"position-sticky pt-3",children:t?Object(He.jsx)(He.Fragment,{children:Object(He.jsxs)("ul",{className:"nav flex-column",children:[Object(He.jsx)("li",{className:"nav-item",children:Object(He.jsxs)("a",{className:"nav-link active","aria-current":"page",href:"#/supporter/promo",children:[Object(He.jsx)(at.a,{icon:ct.k,color:"lightblue"})," ","Supporter"]})}),Object(He.jsx)("li",{className:"nav-item",children:Object(He.jsxs)("a",{className:"nav-link active","aria-current":"page",href:"#/questions",children:[Object(He.jsx)(at.a,{icon:ct.j,color:"lightblue"})," ","Questions"]})}),Object(He.jsx)("li",{className:"nav-item",children:Object(He.jsxs)("a",{className:"nav-link",href:"#/answers/pera",children:[Object(He.jsx)(at.a,{icon:ct.a,color:"lightblue"})," ","Answers"]})}),Object(He.jsx)("li",{className:"nav-item",children:Object(He.jsxs)("a",{className:"nav-link",href:"#/users/2",children:[Object(He.jsx)(at.a,{icon:ct.m,color:"lightblue"})," ","Users"]})})]})}):Object(He.jsxs)("ul",{className:"nav flex-column",children:[Object(He.jsx)("li",{className:"nav-item",children:Object(He.jsxs)("a",{className:"nav-link active","aria-current":"page",href:"#/landing",children:[Object(He.jsx)(at.a,{icon:ct.k,color:"lightblue"})," ","Landing"]})}),Object(He.jsx)("li",{className:"nav-item",children:Object(He.jsxs)("a",{className:"nav-link active","aria-current":"page",href:"#/About",children:[Object(He.jsx)(at.a,{icon:ct.j,color:"lightblue"})," ","About"]})})]})})})),Zt=n(160),Jt=n(300),zt=n(158),Xt=n(299),$t=n(159),Kt=n(301),en=n(298);var tn=Object(u.b)((function(e){return{isAuthenticated:e.topState.top.isAuthenticated,uuid:e.topState.top.uuid,auth:e.topState.top.auth}}))((function(e){var t=e.isAuthenticated,n=(e.uuid,e.auth),r=e.open,a=e.setOpen,c=(e.register,e.signIn),s=e.signOut,o=Object(De.m)();return console.log("isAuthenticated",t),Object(He.jsx)(Jt.a,{as:"header",bg:"light",expand:"lg",className:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-y-0 shadow",children:Object(He.jsxs)(ft.a,{fluid:!0,children:[Object(He.jsx)(zt.a,{onClick:function(){return a(!r)},"aria-controls":"example-collapse-text","aria-expanded":r,size:"sm",variant:"secondary",children:Object(He.jsx)(at.a,{icon:r?ct.b:ct.c,color:"lightblue"})}),Object(He.jsxs)(Jt.a.Brand,{href:"#",children:["Support ",Object(He.jsx)("i",{children:"Knowledge"})]}),Object(He.jsx)(Jt.a.Toggle,{"aria-controls":"navbarScroll"}),Object(He.jsxs)(Jt.a.Collapse,{id:"navbarScroll",children:[Object(He.jsxs)(Xt.a,{className:"d-flex",children:[Object(He.jsx)($t.a,{type:"search",placeholder:"Search",className:"me-2","aria-label":"Search"}),Object(He.jsx)(zt.a,{variant:"outline-success",children:"Search"})]}),Object(He.jsxs)(Kt.a,{className:"me-auto my-2 my-lg-0",style:{maxHeight:"100px"},navbarScroll:!0,children:[!t&&Object(He.jsx)(Kt.a.Link,{href:"#/Register",children:"Register"}),!t&&Object(He.jsx)(Kt.a.Link,{href:"#action2",onClick:function(){return c()},children:"Sign In"}),t&&Object(He.jsxs)(He.Fragment,{children:[Object(He.jsxs)(Kt.a.Link,{href:"#",disabled:!0,children:[Object(He.jsx)(at.a,{icon:ct.l})," ",null===n||void 0===n?void 0:n.who.userName]}),Object(He.jsx)(Kt.a.Link,{href:"#",disabled:!0,children:Object(He.jsx)(at.a,{icon:ct.f,color:"lightblue"})}),Object(He.jsxs)(en.a,{title:"",id:"navbarScrollingDropdown",children:[Object(He.jsx)(en.a.Item,{href:"#action3",children:"Action"}),Object(He.jsx)(en.a.Item,{href:"#action4",children:"Another action"}),Object(He.jsx)(en.a.Divider,{}),t&&Object(He.jsx)(en.a.Item,{href:"#action5",onClick:function(){return s(),void o("/landing")},children:"Sign out"})]})]})]})]}),Object(He.jsx)(zt.a,{id:"btnSync","aria-controls":"example-collapse-text",size:"sm",variant:"secondary",children:"Sync"})]})})})),nn=Object(u.b)((function(e){return{navbarOpen:e.topState.top.navbarOpen,isAuthenticated:e.topState.top.isAuthenticated,auth:e.topState.top.auth,uuid:e.topState.top.uuid}}),(function(e){return{toggleNavbar:function(){return e((function(e){try{e({type:w.NAVBAR_TOGGLE})}catch(t){console.error(t)}}))},checkAuthentication:function(){var t=Object(c.a)(Object(a.a)().mark((function t(n){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(ie(n));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),signOut:function(){return e(function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:w.UNAUTHENTICATE})}catch(n){console.error(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.navbarOpen,n=(e.isAuthenticated,e.uuid,e.auth,e.toggleNavbar,e.checkAuthentication),r=e.signOut,a=Object(s.useState)(t),c=Object(ke.a)(a,2),o=c[0],i=c[1],u=Object(s.useState)(9),d=Object(ke.a)(u,2),l=d[0],b=d[1],j=Object(s.useState)(10),O=Object(ke.a)(j,2),h=O[0],p=O[1];Object(s.useEffect)((function(){n({userName:"Jack",pwd:"Daniels"})}),[]);var f=Object(He.jsxs)(qe.a,{children:[Object(He.jsx)(tn,{open:o,setOpen:i,register:function(){},signIn:function(){n({userName:"Jack",pwd:"Daniels"})},signOut:r}),Object(He.jsx)(ft.a,{fluid:!0,children:Object(He.jsxs)(gt.a,{children:[Object(He.jsx)(Zt.a,{in:o,dimension:"width",onEnter:function(){console.log("onEnter"),b(9),p(10)},onEntering:function(){console.log("onEntering")},onEntered:function(){console.log("onEntered")},onExit:function(){console.log("onExit")},onExiting:function(){console.log("onExiting")},onExited:function(){console.log("onExited"),b(12),p(12)},children:Object(He.jsx)(mt.a,{id:"example-collapse-text",md:3,lg:2,className:"p-3 m-3 ms-sm-auto sidebar",style:{border:"1px solid silver",backgroundColor:"yellow"},children:Object(He.jsx)(Ht,{signOut:r})})}),Object(He.jsxs)(mt.a,{id:"main",md:l,lg:h,className:"ms-sm-auto px-md-4",children:[Object(He.jsxs)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom",children:[Object(He.jsx)("h1",{className:"h2",children:"Dashboard"}),Object(He.jsxs)("div",{className:"btn-toolbar mb-2 mb-md-0",children:[Object(He.jsxs)("div",{className:"btn-group me-2",children:[Object(He.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-secondary",children:"Share"}),Object(He.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-secondary",children:"Export"})]}),Object(He.jsxs)("button",{type:"button",className:"btn btn-sm btn-outline-secondary dropdown-toggle",children:[Object(He.jsx)("span",{"data-feather":"calendar"}),"This week"]})]})]}),Object(He.jsx)("div",{style:{border:"1px solid navy"},children:Object(He.jsxs)(De.c,{children:[Object(He.jsx)(De.a,{path:"/",element:Object(He.jsx)(Yt,{})}),Object(He.jsx)(De.a,{path:"/sign-in",element:Object(He.jsx)(Vt,{canEdit:!0,isRegister:!1})}),Object(He.jsx)(De.a,{path:"/register",element:Object(He.jsx)(Vt,{canEdit:!0,isRegister:!0})}),Object(He.jsx)(De.a,{path:"/supporter/:tekst",element:Object(He.jsx)(Rt,{})}),Object(He.jsx)(De.a,{path:"/questions",element:Object(He.jsx)(At.categories,{canEdit:!0})}),Object(He.jsx)(De.a,{path:"/answers/:slug",element:Object(He.jsx)(Qt,{})}),Object(He.jsx)(De.a,{path:"/users/:slug",element:Object(He.jsx)(Wt,{canEdit:!0})})]})})]})]})})]});return Object(He.jsx)("div",{className:"App",children:f})}));localStorage.clear();var rn=Object(d.c)(Ce,void 0,Object(d.a)(l.a));rn.dispatch(function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n,r,c,s,o,i,u,d,l,h,p,f;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{if(n=[],r=!1,"localStorage"in window&&null!==(c=localStorage.getItem(Y))&&(s=JSON.parse(c),(n=s.map((function(e){return E(e)}))).forEach((function(e){var t=localStorage.getItem("CATEGORY_".concat(e.categoryId));if(t){var n=JSON.parse(t);e.questions=n.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{categoryId:e.categoryId,answers:e.answers.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{assigned:new Date(e.assigned)})})),created:new Date(e.created)})}))}})),r=!0),!r){n=v.map((function(e){return E(e)})),o=Object(O.a)(n);try{for(u=function(){var e=i.value;e.questions.forEach((function(t){t.categoryId=e.categoryId,t.words=t.text.split(" ")})),localStorage.setItem("CATEGORY_".concat(e.categoryId),JSON.stringify(e.questions))},o.s();!(i=o.n()).done;)u()}catch(a){o.e(a)}finally{o.f()}}d=new Map,l=Object(O.a)(n);try{for(l.s();!(h=l.n()).done;)p=h.value,f={questions:Object(b.a)(p.questions)},d.set(p.categoryId,f),p.questions=[]}catch(a){l.e(a)}finally{l.f()}r||localStorage.setItem(Y,JSON.stringify(n)),t({type:m.LOAD_CATEGORIES,categories:n,categoryQuestions:d})}catch(a){console.error(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),rn.dispatch(function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n,c,s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=[],"localStorage"in window?(c=localStorage.getItem(g),console.log("SAnswers",c),null!==c?(s=JSON.parse(c),n=s.map((function(e){return f(e)}))):n=p()):n=p(),t({type:r.GET_ALL_ANSWERS,answers:n})}catch(a){console.error(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),rn.dispatch(function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n,r,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=[],"localStorage"in window&&null!==(r=localStorage.getItem(xe))?(c=JSON.parse(r),n=c.map((function(e){return de(e)}))):n=ue(),t({type:se.GET_ALL_USERS,roles:n}),t({type:se.CREATE_OPTIONS})}catch(a){console.error(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),rn.dispatch(function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n,r,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=void 0,"localStorage"in window&&null!==(r=localStorage.getItem(ce))&&(c=JSON.parse(r),console.log("parsed",c),n=oe(c)),n&&t({type:w.LOAD_TOP,top:n})}catch(a){console.error(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),rn.dispatch(function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{"localStorage"in window&&null!==(n=localStorage.getItem("SUPPORT_TAGS"))?JSON.parse(n).map((function(e){return Te.push(e)})):Se.map((function(e){return Te.push(e)})),t({type:le.GET_ALL_TAGS,tags:Te})}catch(r){console.error(r)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var an=Math.floor(1e4*Math.random()+1);sessionStorage.setItem("sessionId",an.toString()),window.addEventListener("PassToBackground",(function(e){var t=e.detail,n=sessionStorage.getItem("sessionId");if(console.log("Session breeeeeee:",n," detail:",t),n!==t.sessionId)switch(t.type){case"STORE_CATEGORY":t.entity.created=new Date(t.entity.created),rn.dispatch(G(!1,t.entity));break;case"UPDATE_CATEGORY":t.entity.created=new Date(t.entity.created),rn.dispatch(M(!1,t.entity));break;case"REMOVE_CATEGORY":rn.dispatch(Q(!1,t.entity));break;case"STORE_QUESTION":t.entity.created=new Date(t.entity.created),rn.dispatch(_(!1,t.entity));break;case"UPDATE_QUESTION":var r=t.entity;r.created=new Date(r.created);for(var a=0;a<r.answers.length;a++){var c=r.answers[a];c.assigned=new Date(c.assigned)}rn.dispatch(k(!1,r));break;case"REMOVE_Question":var s=t.entity,o=s.categoryId,i=s.questionId;rn.dispatch(T(!1,o,i))}}),!1);if(0===rn.getState().usersState.allUsers.length){var cn=function(){var e=Object(c.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rn.dispatch(ge(sn,"add"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),sn={roleId:11,userId:101,userName:"Jack",pwd:"Daniels",department:"dept1",createdBy:101,created:new Date};cn().then((function(e){i.render(Object(He.jsx)(o.a.StrictMode,{children:Object(He.jsx)(u.a,{store:rn,children:Object(He.jsx)(nn,{})})}),document.getElementById("root"))}))}else i.render(Object(He.jsx)(o.a.StrictMode,{children:Object(He.jsx)(u.a,{store:rn,children:Object(He.jsx)(nn,{})})}),document.getElementById("root"))}},[[290,1,2]]]);
//# sourceMappingURL=main.f115ebe1.chunk.js.map