(this["webpackJsonpsupport-knowledge"]=this["webpackJsonpsupport-knowledge"]||[]).push([[0],{132:function(e,t,n){},158:function(e){e.exports=JSON.parse('[{"answerId":111,"text":"You should do the following","words":[],"options":[],"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"answerId":112,"text":"Also do the rest of important","words":[],"options":[],"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"answerId":113,"text":"Try something else","words":[],"options":[],"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"answerId":114,"text":"Contact our support","words":[],"options":[],"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"answerId":115,"text":"Do whatever you want!","words":[],"options":[],"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"answerId":116,"text":"Jump through the window.","words":[],"options":[],"createdBy":101,"created":"2021-10-05T14:48:00.000Z"}]')},159:function(e){e.exports=JSON.parse('[{"categoryId":11,"title":"General settings","questions":[{"questionId":1001,"text":"Why promocode hasn\'t been applied?","answers":[{"answerId":111,"assignedBy":101,"assigned":"2021-10-05T14:48:00.000Z"},{"answerId":112,"assignedBy":101,"assigned":"2021-10-05T14:48:00.000Z"},{"answerId":114,"assignedBy":101,"assigned":"2021-10-05T14:48:00.000Z"}],"source":1,"status":2,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"}],"isExpanded":false,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"categoryId":22,"title":"Taxes","questions":[{"questionId":1002,"text":"Which promocode do we apply?","answers":[],"source":1,"status":2,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"questionId":1003,"text":"Which promocode for client do we apply?","answers":[{"answerId":111,"assignedBy":101,"assigned":"2021-10-05T14:48:00.000Z"}],"source":1,"status":2,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"}],"isExpanded":false,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"categoryId":33,"title":"Client settings","questions":[{"questionId":1004,"text":"Does client has promocode?","answers":[{"answerId":116,"assignedBy":101,"assigned":"2021-10-05T14:48:00.000Z"}],"source":1,"status":2,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"questionId":1005,"text":"What promocode do we use?","answers":[{"answerId":114,"assignedBy":101,"assigned":"2021-10-05T14:48:00.000Z"}],"source":1,"status":2,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"questionId":1006,"text":"Why taxes are less than 5%?","answers":[{"answerId":111,"assignedBy":101,"assigned":"2021-10-05T14:48:00.000Z"},{"answerId":114,"assignedBy":101,"assigned":"2021-10-05T14:48:00.000Z"}],"source":1,"status":2,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"questionId":1007,"text":"When do we do something?","answers":[{"answerId":113,"assignedBy":101,"assigned":"2021-10-05T14:48:00.000Z"}],"source":1,"status":2,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"}],"isExpanded":false,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"}]')},160:function(e){e.exports=JSON.parse('[{"roleId":11,"title":"Owner","color":"orange","users":[],"isExpanded":false,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"roleId":22,"title":"Admins","color":"brown","users":[],"isExpanded":false,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"roleId":33,"title":"Editors","color":"blue","users":[],"isExpanded":false,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"},{"roleId":44,"title":"Viewers","color":"green","users":[],"isExpanded":false,"createdBy":101,"created":"2021-10-05T14:48:00.000Z"}]')},161:function(e){e.exports=JSON.parse('[{"tagId":1,"name":"iOS","color":"orange"},{"tagId":2,"name":"Android","color":"yellow"},{"tagId":3,"name":"Windows","color":"navy"},{"tagId":4,"name":"Battery","color":"lighblue"},{"tagId":5,"name":"Bug","color":"red"},{"tagId":6,"name":"Feature","color":"blue"}]')},180:function(e,t,n){},181:function(e,t,n){},182:function(e,t,n){},302:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),s=n(37),o=n(21),i=n(81),u=n(162),d=n(157),l=n(11),j=n(2),O=n(3),b=n(16),p=n(9),h=n(158),f=function(){return h.map((function(e){return g(e)}))},g=function(e){return Object(j.a)(Object(j.a)({},e),{},{created:new Date(e.created)})},x="SUPPORT_ANSWERS";!function(e){e.GET_ALL_ANSWERS="GET_ALL_ANSWERS",e.GET_ANSWER="GET_ANSWER",e.ADD_ANSWER="ADD_ANSWER",e.EDIT_ANSWER="EDIT_ANSWER",e.REMOVE_ANSWER="REMOVE_ANSWER",e.STORE_ANSWER="STORE_ANSWER",e.CANCEL_ANSWER="CANCEL_ANSWER",e.CLOSE_ANSWER_FORM="CLOSE_ANSWER_FORM",e.CLEAR="CLEAR"}(r||(r={}));var m,y=function(){return function(){var e=Object(p.a)(Object(O.a)().mark((function e(t){var n,a,c;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=[],"localStorage"in window&&null!==(a=localStorage.getItem(x))?(c=JSON.parse(a),n=c.map((function(e){return g(e)}))):n=f(),t({type:r.GET_ALL_ANSWERS,answers:n})}catch(s){console.error(s)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(){return function(e,t){try{e({type:r.ADD_ANSWER,createdBy:t().topState.top.auth.who.userId})}catch(n){console.error(n)}}},E=function(e,t){return function(){var n=Object(p.a)(Object(O.a)().mark((function n(a,c){return Object(O.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,"add"!==t){n.next=6;break}return a({type:r.STORE_ANSWER,answer:e}),n.abrupt("return",Promise.resolve(c().answerState.answer.answerId));case 6:a({type:r.STORE_ANSWER,answer:e});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e,t){return n.apply(this,arguments)}}()},S=function(){return function(e){try{e({type:r.CANCEL_ANSWER})}catch(t){console.error(t)}}},I=n(159),w=function(e){return Object(j.a)(Object(j.a)({},e),{},{questions:e.questions.map((function(t){return Object(j.a)(Object(j.a)({},t),{},{categoryId:e.categoryId,answers:t.answers.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{assigned:new Date(e.assigned)})})),created:new Date(t.created)})})),created:new Date(e.created)})};!function(e){e.LOAD_CATEGORIES="LOAD_CATEGORIES",e.GET_QUESTION="GET_QUESTION",e.ADD_QUESTION="ADD_QUESTION",e.EDIT_QUESTION="EDIT_QUESTION",e.REMOVE_QUESTION="REMOVE_QUESTION",e.STORE_QUESTION="STORE_QUESTION",e.UPDATE_QUESTION="UPDATE_QUESTION",e.CANCEL_QUESTION="CANCEL_QUESTION",e.CLOSE_QUESTION_FORM="CLOSE_QUESTION_FORM",e.OPEN_QUESTION_FORM="OPEN_QUESTION_FORM",e.GET_CATEGORY="GET_CATEGORY",e.ADD_CATEGORY="ADD_CATEGORY",e.TOGGLE_CATEGORY="EXPAND_CATEGORY",e.EDIT_CATEGORY="EDIT_CATEGORY",e.REMOVE_CATEGORY="REMOVE_CATEGORY",e.STORE_CATEGORY="STORE_CATEGORY",e.UPDATE_CATEGORY="UPDATE_CATEGORY",e.CANCEL_CATEGORY="CANCEL_CATEGORY",e.CATEGORY_OPTIONS="CATEGORY_OPTIONS",e.REMOVE_QUESTION_ANSWER="REMOVE_QUESTION_ANSWER",e.ASSIGN_QUESTION_ANSWER="ASSIGN_QUESTION_ANSWER",e.SET_LAST_ANSWER_ID="SET_LAST_ANSWER_ID",e.CLEAR="CLEAR"}(m||(m={}));var T,N=function(){return function(){var e=Object(p.a)(Object(O.a)().mark((function e(t){var n,r,a,c,s,o,i,u,d,p,h,f;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=[],r=!1,"localStorage"in window&&(a=localStorage.getItem(z),console.log("sCategories",a),null!==a&&(c=JSON.parse(a),(n=c.map((function(e){return w(e)}))).forEach((function(e){var t=localStorage.getItem("CATEGORY_".concat(e.categoryId));if(t){var n=JSON.parse(t);e.questions=n.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{categoryId:e.categoryId,words:e.text.split(" "),answers:e.answers.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{assigned:new Date(e.assigned)})})),created:new Date(e.created)})}))}})),r=!0)),console.log({categories:n}),r){e.next=23;break}n=I.map((function(e){return w(e)})),s=Object(b.a)(n),e.prev=8,i=Object(O.a)().mark((function e(){var t;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=o.value).questions.forEach((function(e){return e.categoryId=t.categoryId})),localStorage.setItem("CATEGORY_".concat(t.categoryId),JSON.stringify(t.questions)),t.questions.forEach((function(e){return e.words=e.text.split(" ")}));case 4:case"end":return e.stop()}}),e)})),s.s();case 11:if((o=s.n()).done){e.next=15;break}return e.delegateYield(i(),"t0",13);case 13:e.next=11;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(8),s.e(e.t1);case 20:return e.prev=20,s.f(),e.finish(20);case 23:u=new Map,d=Object(b.a)(n);try{for(d.s();!(p=d.n()).done;)h=p.value,f={questions:Object(l.a)(h.questions)},u.set(h.categoryId,f),h.questions=[]}catch(g){d.e(g)}finally{d.f()}r||localStorage.setItem(z,JSON.stringify(n)),t({type:m.LOAD_CATEGORIES,categories:n,categoryMap:u}),e.next=33;break;case 30:e.prev=30,e.t2=e.catch(0),console.error(e.t2);case 33:case"end":return e.stop()}}),e,null,[[0,30],[8,17,20,23]])})));return function(t){return e.apply(this,arguments)}}()},R=function(e,t){return function(){var n=Object(p.a)(Object(O.a)().mark((function n(r){return Object(O.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{r({type:m.GET_QUESTION,categoryId:e,questionId:t})}catch(a){console.error(a)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},A=function(e,t,n){return function(){var n=Object(p.a)(Object(O.a)().mark((function n(r,a){return Object(O.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{r({type:m.ADD_QUESTION,question:{categoryId:e,createdBy:a().topState.top.auth.who.userId,text:t,words:t.split(" ")},showCategoryForm:!1})}catch(c){console.error(c)}case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},C=function(e,t,n){return function(){var r=Object(p.a)(Object(O.a)().mark((function r(a){return Object(O.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:try{a({type:m.EDIT_QUESTION,categoryId:e,questionId:t,showCategoryForm:!1,showQuestionForm:n})}catch(c){console.error(c)}case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},_=function(e,t,n,r){return function(){var r=Object(p.a)(Object(O.a)().mark((function r(a,c){return Object(O.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,k();case 3:a({type:m.ASSIGN_QUESTION_ANSWER,categoryId:e,questionId:t,answerId:n,assignedBy:c().topState.top.auth.who.userId}),r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),console.error(r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e,t){return r.apply(this,arguments)}}()},k=function(){return new Promise((function(e,t){setTimeout((function(){e({status:200,"content-type":"application/json",data:{results:1}})}),50)}))},M=function(){return function(e){try{e({type:m.CLOSE_QUESTION_FORM})}catch(t){console.error(t)}}},q=function(){return function(e){try{e({type:m.OPEN_QUESTION_FORM})}catch(t){console.error(t)}}},U=function(){return function(){var e=Object(p.a)(Object(O.a)().mark((function e(t,n){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:m.ADD_CATEGORY,category:Object(j.a)(Object(j.a)({},Y),{},{createdBy:n().topState.top.auth.who.userId}),showCategoryForm:!0})}catch(r){console.error(r)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},L=function(e){return function(){var t=Object(p.a)(Object(O.a)().mark((function t(n,r){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:m.STORE_CATEGORY,category:e}),t.abrupt("return",Promise.resolve(e.categoryId));case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e,n){return t.apply(this,arguments)}}()},G=function(e){return function(){var t=Object(p.a)(Object(O.a)().mark((function t(n){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:m.UPDATE_CATEGORY,category:e}),t.abrupt("return",Promise.resolve(e.categoryId));case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()},D=function(){return function(e){try{e({type:m.CATEGORY_OPTIONS})}catch(t){console.error(t)}}},Q=function(e,t,n,r){return function(){var a=Object(p.a)(Object(O.a)().mark((function a(c,s){return Object(O.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{n.createdBy=s().topState.top.auth.who.userId,c(v()),c(E(n,r)).then((function(n){c(_(e,t,n))}))}catch(o){console.error(o)}case 1:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},F={questions:[]},B=[m.ADD_QUESTION,m.STORE_QUESTION,m.UPDATE_QUESTION,m.REMOVE_QUESTION,m.REMOVE_QUESTION_ANSWER,m.ASSIGN_QUESTION_ANSWER],P=Object.keys(m).filter((function(e){return B.includes(e)})),W=function(e,t,n,r){var a=e.get(n),c=V(a,t);return P.includes(t.type)&&(c.questions.forEach((function(e){return e.words=[]})),localStorage.setItem("CATEGORY_".concat(n),JSON.stringify(c.questions)),c.questions.forEach((function(e){return e.words=e.text.split(" ")}))),e.set(n,c),{categoryMap:e,question:c.questions.find((function(e){return e.questionId===r}))}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.GET_QUESTION:var n=e.questions.find((function(e){return e.questionId===t.questionId}));return Object(j.a)(Object(j.a)({},e),{},{question:n});case m.ADD_QUESTION:var r=e.questions;return Object(j.a)(Object(j.a)({},e),{},{questions:[].concat(Object(l.a)(r),[Object(j.a)({},t.question)])});case m.EDIT_QUESTION:var a=e.questions.find((function(e){return e.questionId===t.questionId}));return Object(j.a)(Object(j.a)({},e),{},{formMode:"edit",question:a});case m.STORE_QUESTION:var c=t.question;return c.words=c.text.split(" "),Object(j.a)(Object(j.a)({},e),{},{questions:[].concat(Object(l.a)(e.questions),[Object(j.a)({},c)])});case m.UPDATE_QUESTION:var s=t.question;s.words=s.text.split(" ");var o=s.questionId;return Object(j.a)(Object(j.a)({},e),{},{questions:e.questions.map((function(e){return e.questionId!==o?e:Object(j.a)({},s)}))});case m.CANCEL_QUESTION:return Object(j.a)(Object(j.a)({},e),{},{formMode:"display"});case m.REMOVE_QUESTION:return Object(j.a)(Object(j.a)({},e),{},{questions:e.questions.filter((function(e){return e.questionId!==t.questionId}))});case m.REMOVE_QUESTION_ANSWER:return Object(j.a)(Object(j.a)({},e),{},{questions:e.questions.map((function(e){return e.questionId!==t.questionId?Object(j.a)(Object(j.a)({},e),{},{answers:Object(l.a)(e.answers)}):Object(j.a)(Object(j.a)({},e),{},{answers:e.answers.filter((function(e){return e.answerId!==t.answerId}))})}))});case m.ASSIGN_QUESTION_ANSWER:var i=t.questionId,u=t.answerId,d=t.assignedBy;return Object(j.a)(Object(j.a)({},e),{},{questions:e.questions.map((function(e){return e.questionId!==i?Object(j.a)(Object(j.a)({},e),{},{answers:Object(l.a)(e.answers)}):Object(j.a)(Object(j.a)({},e),{},{answers:[].concat(Object(l.a)(e.answers),[{answerId:u,assignedBy:d,assigned:new Date}])})}))});default:return e}},z="SUPPORT_CATEGORIES",H={categoryId:0,questionId:0,text:"",words:[],source:0,status:0,answers:[],createdBy:0,created:new Date},Y={categoryId:0,title:"",questions:[],isExpanded:!1,createdBy:0,created:new Date},J={categories:[],category:void 0,categoryMap:new Map,question:Object(j.a)({},H),showCategoryForm:!1,showQuestionForm:!1,categoryOptions:[],loading:!1,formMode:"display",categoryIdEditing:-1},Z=[m.ADD_QUESTION,m.TOGGLE_CATEGORY,m.STORE_CATEGORY,m.UPDATE_CATEGORY,m.REMOVE_CATEGORY],K=Object.keys(m).filter((function(e){return Z.includes(e)})),X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.LOAD_CATEGORIES:var n=t.categories,r=t.categoryMap;return Object(j.a)(Object(j.a)({},e),{},{categories:n,categoryMap:r});case m.GET_QUESTION:var a=t.categoryId,c=t.questionId,s=e.categoryMap.get(a),o=s.questions,i=o.find((function(e){return e.questionId===c}));return Object(j.a)(Object(j.a)({},e),{},{question:i});case m.ADD_QUESTION:var u=t.question.categoryId,d=Object(j.a)(Object(j.a)({},H),t.question);if(0===u)d.questionId=0;else{var O=e.categoryMap.get(u),b=O.questions;d.questionId=0===b.length?1:Math.max.apply(Math,Object(l.a)(b.map((function(e){return e.questionId}))))+1}return Object(j.a)(Object(j.a)({},e),{},{formMode:"add",question:d,questionCopy:Object(j.a)({},d),showCategoryForm:!1});case m.EDIT_QUESTION:var p=t.categoryId,h=t.questionId,f=t.showQuestionForm,g=e.categoryMap.get(p),x=g.questions,y=x.find((function(e){return e.questionId===h}));return Object(j.a)(Object(j.a)({},e),{},{formMode:"edit",question:y,questionCopy:Object(j.a)({},y),showCategoryForm:!1,showQuestionForm:f});case m.UPDATE_QUESTION:var v=e.questionCopy,E=t.question,S=E.categoryId,I=E.questionId,w=v.categoryId;if(t.question.categoryId===w){var T=W(e.categoryMap,t,S,I),N=T.categoryMap,R=T.question;return Object(j.a)(Object(j.a)({},e),{},{categoryMap:N,formMode:"edit",question:R})}var A=W(e.categoryMap,Object(j.a)(Object(j.a)({},t),{},{type:m.REMOVE_QUESTION,categoryId:w,questionId:I}),w),C=A.categoryMap,_=e.categoryMap.get(S),k=_.questions;return t.question.questionId=0===k.length?1:Math.max.apply(Math,Object(l.a)(k.map((function(e){return e.questionId}))))+1,C=W(C,Object(j.a)(Object(j.a)({},t),{},{type:m.STORE_QUESTION}),S).categoryMap,Object(j.a)(Object(j.a)({},e),{},{categoryMap:C,formMode:"edit"});case m.STORE_QUESTION:var M=t.question,q=e.categoryMap.get(M.categoryId),U=q.questions;M.questionId=0===U.length?1:Math.max.apply(Math,Object(l.a)(U.map((function(e){return e.questionId}))))+1;var L=W(e.categoryMap,t,M.categoryId,M.questionId),G=L.categoryMap,D=L.question;return Object(j.a)(Object(j.a)({},e),{},{formMode:"edit",question:D,questionCopy:Object(j.a)({},D),categoryMap:G});case m.CANCEL_QUESTION:return Object(j.a)(Object(j.a)({},e),{},{formMode:"display",question:void 0,showQuestionForm:!1});case m.REMOVE_QUESTION:var Q=t.categoryId,F=W(e.categoryMap,t,Q),B=F.categoryMap;return Object(j.a)(Object(j.a)({},e),{},{categoryMap:B,formMode:"display",question:void 0});case m.REMOVE_QUESTION_ANSWER:var P=t.categoryId,V=t.questionId,z=W(e.categoryMap,t,P,V),Y=z.categoryMap,Z=z.question;return Object(j.a)(Object(j.a)({},e),{},{categoryMap:Y,question:Z});case m.ASSIGN_QUESTION_ANSWER:var K=t.categoryId,X=t.questionId,$=t.answerId,ee=t.assignedBy;if("add"===e.formMode)return Object(j.a)(Object(j.a)({},e),{},{question:Object(j.a)(Object(j.a)({},e.question),{},{answers:[].concat(Object(l.a)(e.question.answers),[{answerId:$,assignedBy:ee,assigned:new Date}])})});var te=W(e.categoryMap,t,K,X),ne=te.categoryMap,re=te.question;return Object(j.a)(Object(j.a)({},e),{},{categoryMap:ne,question:re});case m.CLOSE_QUESTION_FORM:return Object(j.a)(Object(j.a)({},e),{},{showQuestionForm:!1});case m.OPEN_QUESTION_FORM:return Object(j.a)(Object(j.a)({},e),{},{showQuestionForm:!0});case m.GET_CATEGORY:var ae=t.categoryId,ce=t.showCategoryForm,se=e.categories.find((function(e){return e.categoryId===ae}));return Object(j.a)(Object(j.a)({},e),{},{category:se,question:void 0,showCategoryForm:ce,showQuestionForm:!1});case m.ADD_CATEGORY:var oe=e.categoryMap,ie=t.category,ue=t.showCategoryForm,de=0===e.categories.length?11:Math.max.apply(Math,Object(l.a)(e.categories.map((function(e){return e.categoryId}))))+1;ie.categoryId=de;var le={questions:[]};return oe.set(de,le),Object(j.a)(Object(j.a)({},e),{},{formMode:"add",categoryIdEditing:de,category:ie,question:void 0,showCategoryForm:ue,showQuestionForm:!1});case m.TOGGLE_CATEGORY:return Object(j.a)(Object(j.a)({},e),{},{categories:e.categories.map((function(e){return e.categoryId!==t.categoryId?e:Object(j.a)(Object(j.a)({},e),{},{isExpanded:!e.isExpanded})}))});case m.EDIT_CATEGORY:var je=e.categories,Oe=t.categoryId,be=t.showCategoryForm,pe=je.find((function(e){return e.categoryId===Oe}));return Object(j.a)(Object(j.a)({},e),{},{category:pe,formMode:"edit",categoryCopy:Object(j.a)({},pe),categoryIdEditing:pe.categoryId,showCategoryForm:be,showQuestionForm:!1});case m.STORE_CATEGORY:var he=t.category,fe=e.categoryMap,ge={questions:[]};fe.set(he.categoryId,ge),he.questions=[];var xe=[].concat(Object(l.a)(e.categories),[he]);return Object(j.a)(Object(j.a)({},e),{},{formMode:"edit",categoryIdEditing:-1,categories:xe,categoryMap:fe});case m.UPDATE_CATEGORY:var me=t.category,ye=me.categoryId,ve=me.title;e.categoryCopy;return Object(j.a)(Object(j.a)({},e),{},{categoryIdEditing:-1,categories:e.categories.map((function(e){return e.categoryId!==ye?e:Object(j.a)(Object(j.a)({},e),{},{title:ve})}))});case m.CANCEL_CATEGORY:return Object(j.a)(Object(j.a)({},e),{},{formMode:"display",category:void 0});case m.REMOVE_CATEGORY:var Ee=e.categories.reduce((function(e,n){return n.categoryId!==t.categoryId&&e.push(Object(j.a)(Object(j.a)({},n),{},{questions:Object(l.a)(n.questions)})),e}),[]);return Object(j.a)(Object(j.a)({},e),{},{categories:Ee});case m.CATEGORY_OPTIONS:var Se=e.categories.map((function(e){return{value:e.categoryId,label:e.title}}));return Se.unshift({value:0,label:"Unknown"}),Object(j.a)(Object(j.a)({},e),{},{categoryOptions:Se});case m.CLEAR:return Object(j.a)({},J);default:return e}},$={answerId:0,text:"",words:[],options:[],createdBy:0,created:new Date},ee={answers:[],answer:void 0,loading:!1,formMode:"display",showAnswerForm:!1},te=Object.keys(r).filter((function(e){return e!==r.GET_ALL_ANSWERS})),ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.GET_ALL_ANSWERS:return Object(j.a)(Object(j.a)({},e),{},{answers:t.answers.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{words:e.text.split(" ")})}))});case r.GET_ANSWER:var n=e.answers.find((function(e){return e.answerId===t.answerId}));return Object(j.a)(Object(j.a)({},e),{},{answer:n,showAnswerForm:!0});case r.ADD_ANSWER:return Object(j.a)(Object(j.a)({},e),{},{formMode:"add",answer:Object(j.a)(Object(j.a)({},$),{},{createdBy:t.createdBy,answerId:0===e.answers.length?111:Math.max.apply(Math,Object(l.a)(e.answers.map((function(e){return e.answerId}))))+1})});case r.EDIT_ANSWER:var a=e.answers.find((function(e){return e.answerId===t.answerId}));return Object(j.a)(Object(j.a)({},e),{},{formMode:"edit",answer:Object(j.a)(Object(j.a)({},a),{},{words:a.text.split(" ")}),showAnswerForm:!0});case r.STORE_ANSWER:var c=t.answer,s=c,o=s.answerId,i=[];return"add"===e.formMode?(-1===o&&(c.answerId=0===e.answers.length?111:Math.max.apply(Math,Object(l.a)(e.answers.map((function(e){return e.answerId}))))+1),i=[].concat(Object(l.a)(e.answers),[Object(j.a)(Object(j.a)({},c),{},{words:c.text.split(" ")})])):i=e.answers.map((function(e){return e.answerId===o?Object(j.a)(Object(j.a)({},c),{},{words:c.text.split(" ")}):e})),Object(j.a)(Object(j.a)({},e),{},{formMode:"edit",answers:i,answer:c});case r.CANCEL_ANSWER:return Object(j.a)(Object(j.a)({},e),{},{formMode:"display"});case r.REMOVE_ANSWER:return Object(j.a)(Object(j.a)({},e),{},{formMode:"display",answers:e.answers.filter((function(e){return e.answerId!==t.answerId}))});case r.CLOSE_ANSWER_FORM:return Object(j.a)(Object(j.a)({},e),{},{formMode:"display",showAnswerForm:!1});case r.CLEAR:return Object(j.a)({},ee);default:return e}},re=n(160),ae=function(){return re.map((function(e){return ce(e)}))},ce=function(e){return Object(j.a)(Object(j.a)({},e),{},{users:e.users.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{created:new Date(e.created)})})),created:new Date(e.created)})};!function(e){e.LOAD_USER_GROUPS="LOAD_USER_GROUPS",e.CREATE_OPTIONS="CREATE_OPTIONS",e.GET_ALL_USERS="GET_ALL_USERS",e.GET_USER="GET_USER",e.ADD_USER="ADD_USER",e.EDIT_USER="EDIT_USER",e.REMOVE_USER="REMOVE_USER",e.STORE_USER="STORE_USER",e.CANCEL_USER="CANCEL_USER",e.ADD_ROLE="ADD_ROLE",e.TOGGLE_ROLE="EXPAND_ROLE",e.EDIT_ROLE="EDIT_ROLE",e.REMOVE_ROLE="REMOVE_ROLE",e.STORE_ROLE="STORE_ROLE",e.SET_IS_DETAIL="SET_IS_DETAIL"}(T||(T={}));var se,oe=function(e){return function(){var t=Object(p.a)(Object(O.a)().mark((function t(n){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:T.GET_USER,userId:e})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ie=function(e){return function(){var t=Object(p.a)(Object(O.a)().mark((function t(n,r){var a,c,s,o,i,u;return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,a=r(),c=a.usersState,o=Object(b.a)(c.roles),t.prev=3,o.s();case 5:if((i=o.n()).done){t.next=12;break}if(u=i.value,!(s=u.users.find((function(t){return t.userName===e})))){t.next=10;break}return t.abrupt("break",12);case 10:t.next=5;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),o.e(t.t0);case 17:return t.prev=17,o.f(),t.finish(17);case 20:return t.abrupt("return",s);case 23:t.prev=23,t.t1=t.catch(0),console.error(t.t1);case 26:case"end":return t.stop()}}),t,null,[[0,23],[3,14,17,20]])})));return function(e,n){return t.apply(this,arguments)}}()},ue=function(e,t,n){return function(){var n=Object(p.a)(Object(O.a)().mark((function n(r,a){return Object(O.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{r({type:T.ADD_USER,createdBy:a().topState.top.auth.who.userId,roleId:e,text:t})}catch(c){console.error(c)}case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},de=function(e,t){return function(){var n=Object(p.a)(Object(O.a)().mark((function n(r){return Object(O.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{r({type:T.EDIT_USER,roleId:e,userId:t})}catch(a){console.error(a)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},le=function(e,t){return function(){var n=Object(p.a)(Object(O.a)().mark((function n(r){return Object(O.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Oe();case 3:r({type:T.REMOVE_USER,roleId:e,userId:t}),r({type:T.CREATE_OPTIONS}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},je=function(e,t){return function(){var n=Object(p.a)(Object(O.a)().mark((function n(r,a){return Object(O.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,"add"!==t){n.next=9;break}return n.next=4,Oe();case 4:return n.next=6,r({type:T.STORE_USER,user:e,formMode:t});case 6:return n.abrupt("return",e);case 9:return n.next=11,Oe();case 11:r({type:T.STORE_USER,user:e,formMode:t});case 12:r({type:T.CREATE_OPTIONS}),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(0),console.error(n.t0);case 18:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(e,t){return n.apply(this,arguments)}}()},Oe=function(){return new Promise((function(e,t){setTimeout((function(){e({status:200,"content-type":"application/json",data:{results:1}})}),50)}))},be="SUPPORT_USERS",pe={roleId:0,userId:0,userName:"",pwd:"",department:"neki",createdBy:0,created:new Date},he={roleId:0,title:"",color:"lightgreen",users:[],isExpanded:!1,createdBy:0,created:new Date},fe={roles:[],userEditing:void 0,allUsers:[],roleOptions:[],userOptions:[],loading:!1,formMode:"display",roleIdEditing:-1,ownerUserId:101},ge=Object.keys(T).filter((function(e){return e!==T.GET_ALL_USERS})),xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.GET_ALL_USERS:var n=t.roles;return console.log("roles",n),Object(j.a)(Object(j.a)({},e),{},{roles:n});case T.CREATE_OPTIONS:var r=e.roles,a=[];return r.forEach((function(e){a=a.concat(e.users)})),console.log("allUsers",a),Object(j.a)(Object(j.a)({},e),{},{allUsers:a,roleOptions:r.map((function(e){return{label:e.title,value:e.roleId}})),userOptions:a.map((function(e){return{label:e.userName,value:e.userId}}))});case T.GET_USER:var c,s=void 0,o=Object(b.a)(e.roles);try{for(o.s();!(c=o.n()).done;){var i=c.value;if(s=i.users.find((function(e){return e.userId===t.userId})))break}}catch(A){o.e(A)}finally{o.f()}return Object(j.a)(Object(j.a)({},e),{},{userEditing:s});case T.ADD_USER:var u,d=0,O=Object(b.a)(e.roles);try{for(O.s();!(u=O.n()).done;){var p,h=u.value,f=Object(b.a)(h.users);try{for(f.s();!(p=f.n()).done;){var g=p.value;g.userId>d&&(d=g.userId)}}catch(A){f.e(A)}finally{f.f()}}}catch(A){O.e(A)}finally{O.f()}return Object(j.a)(Object(j.a)({},e),{},{formMode:"add",userEditing:Object(j.a)(Object(j.a)({},pe),{},{createdBy:t.createdBy,roleId:t.roleId,userId:d+1,text:t.text})});case T.EDIT_USER:var x=e.roles.find((function(e){return e.roleId===t.roleId})),m=x.users.find((function(e){return e.userId===t.userId}));return Object(j.a)(Object(j.a)({},e),{},{formMode:"edit",userEditing:m});case T.STORE_USER:var y=t.user,v=t.formMode;if("add"===v)return console.log(" UserActionTypes.STORE_USER user",y),0!==y.roleId||e.roles.map((function(e){return e.roleId})).includes(0)?Object(j.a)(Object(j.a)({},e),{},{formMode:"edit",roles:e.roles.map((function(e){return e.roleId!==y.roleId?Object(j.a)(Object(j.a)({},e),{},{users:Object(l.a)(e.users)}):Object(j.a)(Object(j.a)({},e),{},{users:[].concat(Object(l.a)(e.users),[Object(j.a)({},y)])})}))}):(console.log("unisao"),Object(j.a)(Object(j.a)({},e),{},{formMode:"edit",roles:[].concat(Object(l.a)(e.roles),[Object(j.a)(Object(j.a)({},he),{},{roleId:0,title:"Unknown",users:[y]})])}));var E=e.roles,S=t.user,I=E.find((function(e){return e.roleId===S.roleId})),w=I.users.find((function(e){return e.userId===S.userId}));return w?Object(j.a)(Object(j.a)({},e),{},{formMode:"edit",roles:E.map((function(e){return e.roleId!==S.roleId?Object(j.a)(Object(j.a)({},e),{},{users:Object(l.a)(e.users)}):Object(j.a)(Object(j.a)({},e),{},{users:e.users.map((function(e){return e.userId!==S.userId?e:Object(j.a)({},S)}))})}))}):Object(j.a)(Object(j.a)({},e),{},{formMode:"edit",roles:E.map((function(e){return e.roleId!==S.roleId?Object(j.a)(Object(j.a)({},e),{},{users:Object(l.a)(e.users.filter((function(e){return e.userId!==S.userId})))}):Object(j.a)(Object(j.a)({},e),{},{users:[].concat(Object(l.a)(e.users),[Object(j.a)({},S)])})}))});case T.CANCEL_USER:return Object(j.a)(Object(j.a)({},e),{},{formMode:"display",userEdited:void 0});case T.REMOVE_USER:return Object(j.a)(Object(j.a)({},e),{},{formMode:"display",userEdited:void 0,roles:e.roles.map((function(e){return e.roleId!==t.roleId?Object(j.a)(Object(j.a)({},e),{},{users:Object(l.a)(e.users)}):Object(j.a)(Object(j.a)({},e),{},{users:e.users.filter((function(e){return e.userId!==t.userId}))})}))});case T.ADD_ROLE:var N=Math.max.apply(Math,Object(l.a)(e.roles.map((function(e){return e.roleId}))))+1;return Object(j.a)(Object(j.a)({},e),{},{roleIdEditing:N,roles:[].concat(Object(l.a)(e.roles),[Object(j.a)(Object(j.a)({},he),{},{title:"New Section",roleId:N})])});case T.TOGGLE_ROLE:return console.log(t),Object(j.a)(Object(j.a)({},e),{},{roles:e.roles.map((function(e){return e.roleId!==t.roleId?e:Object(j.a)(Object(j.a)({},e),{},{isExpanded:!e.isExpanded})}))});case T.EDIT_ROLE:var R=e.roles.find((function(e){return e.roleId===t.roleId}));return Object(j.a)(Object(j.a)({},e),{},{roleIdEditing:R.roleId});case T.STORE_ROLE:return Object(j.a)(Object(j.a)({},e),{},{roleIdEditing:-1,roles:e.roles.map((function(e){return e.roleId!==t.group.roleId?e:Object(j.a)(Object(j.a)({},e),{},{title:t.group.title})}))});case T.REMOVE_ROLE:return Object(j.a)(Object(j.a)({},e),{},{roles:e.roles.reduce((function(e,n){return n.roleId!==t.roleId&&e.push(Object(j.a)(Object(j.a)({},n),{},{users:Object(l.a)(n.users)})),e}),[])});default:return e}},me=n(161);!function(e){e.GET_ALL_TAGS="GET_ALL_TAGS",e.GET_TAG="GET_TAG"}(se||(se={}));var ye,ve=[],Ee={tags:[],loading:!1,formMode:"display"};!function(e){e[e.OWNER=11]="OWNER",e[e.ADMINS=22]="ADMINS",e[e.EDITORS=33]="EDITORS",e[e.VIEWERS=44]="VIEWERS"}(ye||(ye={}));var Se,Ie="SUPPORT_TOP";!function(e){e.LOAD_TOP="LOAD_TOP",e.NAVBAR_TOGGLE="NAVBAR_TOGGLE",e.REGISTER="REGISTER",e.REGISTER_USERNAME_EXISTS="REGISTER_USERNAME_EXISTS",e.AUTHENTICATE="AUTHENTICATE",e.UNAUTHENTICATE="UNAUTHENTICATE",e.AUTHENTICATE_WRONG_USERNAME="AUTHENTICATE_WRONG_USERNAME",e.AUTHENTICATE_WRONG_PWD="AUTHENTICATE_WRONG_PWD",e.CANCEL="CANCEL",e.TOGGLE_MODE="TOGGLE_MODE",e.SHOW_MODAL_JSON="SHOW_MODAL_JSON"}(Se||(Se={}));var we=function(e){var t=e.auth;if(!t)return Object(j.a)(Object(j.a)({},e),{},{auth:void 0});var n=t.who,r=t.visited,a=t.authenticated;return Object(j.a)(Object(j.a)({},e),{},{auth:t?Object(j.a)(Object(j.a)({},t),{},{who:Object(j.a)(Object(j.a)({},n),{},{created:new Date(n.created)}),visited:new Date(r),authenticated:new Date(a)}):void 0})},Te=function(e){return function(){var t=Object(p.a)(Object(O.a)().mark((function t(n,r){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=n,t.next=4,ie(e.userName);case 4:t.t1=t.sent,(0,t.t0)(t.t1).then((function(t){t?t.pwd===e.pwd?n({type:Se.AUTHENTICATE,user:t}):n({type:Se.AUTHENTICATE_WRONG_PWD}):n({type:Se.AUTHENTICATE_WRONG_USERNAME})})),t.next=11;break;case 8:t.prev=8,t.t2=t.catch(0),console.error(t.t2);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()},Ne={top:{isAuthenticated:null,uuid:null,darkMode:!0,showModalJSON:!1}},Re=Object.keys(Se).filter((function(e){return e!==Se.LOAD_TOP})),Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se.LOAD_TOP:return Object(j.a)(Object(j.a)({},e),{},{top:Object(j.a)(Object(j.a)({},t.top),{},{authError:""})});case Se.REGISTER:return Object(j.a)(Object(j.a)({},e),{},{top:{isAuthenticated:!0,uuid:"placeholder-uuid",auth:{who:t.user,authenticated:new Date,visited:new Date},darkMode:!1,showModalJSON:!1}});case Se.REGISTER_USERNAME_EXISTS:return Object(j.a)(Object(j.a)({},e),{},{top:Object(j.a)(Object(j.a)({},e.top),{},{authError:"Username already exists, please chose another!"})});case Se.SHOW_MODAL_JSON:return Object(j.a)(Object(j.a)({},e),{},{top:Object(j.a)(Object(j.a)({},e.top),{},{showModalJSON:t.show})});case Se.TOGGLE_MODE:return Object(j.a)(Object(j.a)({},e),{},{top:Object(j.a)(Object(j.a)({},e.top),{},{darkMode:!e.top.darkMode})});case Se.AUTHENTICATE:return Object(j.a)(Object(j.a)({},e),{},{top:Object(j.a)(Object(j.a)({},e.top),{},{isAuthenticated:!0,uuid:"placeholder-uuid",auth:{who:t.user,authenticated:new Date,visited:new Date}})});case Se.UNAUTHENTICATE:return Object(j.a)(Object(j.a)({},e),{},{top:Object(j.a)(Object(j.a)({},e.top),{},{isAuthenticated:!1,auth:void 0})});case Se.AUTHENTICATE_WRONG_USERNAME:return Object(j.a)(Object(j.a)({},e),{},{top:Object(j.a)(Object(j.a)({},e.top),{},{authError:"User doesn't exist!"})});case Se.AUTHENTICATE_WRONG_PWD:return Object(j.a)(Object(j.a)({},e),{},{top:Object(j.a)(Object(j.a)({},e.top),{},{authError:"Password doesn't match!"})});default:return e}},Ce=Object(i.combineReducers)({categoriesState:function(e,t){var n=X(e,t);return K.includes(t.type)&&localStorage.setItem(z,JSON.stringify(n.categories)),n},answerState:function(e,t){var n=ne(e,t);return te.includes(t.type)&&localStorage.setItem(x,JSON.stringify(n.answers)),n},usersState:function(e,t){var n=xe(e,t);return ge.includes(t.type)&&localStorage.setItem(be,JSON.stringify(n.roles)),n},tagState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se.GET_ALL_TAGS:return Object(j.a)(Object(j.a)({},e),{},{tags:t.tags.map((function(e){return Object(j.a)({},e)}))});case se.GET_TAG:return Object(j.a)(Object(j.a)({},e),{},{tag:t.tag});default:return e}},topState:function(e,t){var n=Ae(e,t);return Re.includes(t.type)&&localStorage.setItem(Ie,JSON.stringify(n.top)),n}});n(180),n(181),n(182);var _e,ke=n(62),Me=n(10),qe=n(4),Ue=n(1);!function(e){e.LIGHTMODE="LIGHTMODE",e.DARKMODE="DARKMODE"}(_e||(_e={}));var Le={darkMode:!1,variant:"light",bg:"light"},Ge=Object(a.createContext)({state:Le,dispatch:function(){return null}}),De=function(e,t){switch(t.type){case"LIGHTMODE":return Object(j.a)(Object(j.a)({},e),{},{darkMode:!1,variant:"light",bg:"light"});case"DARKMODE":return Object(j.a)(Object(j.a)({},e),{},{darkMode:!0,variant:"dark",bg:"dark"});default:return e}};function Qe(e){var t=Object(j.a)(Object(j.a)({},Le),{},{darkMode:e.darkMode,variant:e.darkMode?"dark":"light",bg:e.darkMode?"dark":"light"}),n=Object(a.useReducer)(De,t),r=Object(qe.a)(n,2),c=r[0],s=r[1];return Object(Ue.jsx)(Ge.Provider,{value:{state:c,dispatch:s},children:e.children})}var Fe=n(5),Be=n(14),Pe=n(15),We=n(22),Ve=n(23),ze=n(99),He=n.n(ze),Ye=n(100),Je=n.n(Ye),Ze=n(101),Ke=n.n(Ze),Xe=(n(132),["ref"]);var $e=Object(a.createRef)(),et=He.a,tt=function(e){Object(We.a)(n,e);var t=Object(Ve.a)(n);function n(e){var r;return Object(Be.a)(this,n),(r=t.call(this,e)).state=void 0,r.onSuggestionsClearRequested=function(){r.setState({suggestions:[]})},r.anyWord=function(e,t){var n,r=Object(b.a)(e);try{for(r.s();!(n=r.n()).done;){var a,c=n.value,s=Object(b.a)(t);try{for(s.s();!(a=s.n()).done;){var o=a.value;if(c.test(o))return!0}}catch(i){s.e(i)}finally{s.f()}}}catch(i){r.e(i)}finally{r.f()}return!1},r.state={value:e.tekst||"",suggestions:r.getSuggestions(""),highlighted:""},r}return Object(Pe.a)(n,[{key:"componentDidMount",value:function(){setTimeout((function(){setTimeout((function(){window.focus(),$e.current.focus()}),500)}),100)}},{key:"render",value:function(){var e=this,t=this.state,n=t.value,r=t.suggestions;return Object(Ue.jsx)(et,{onSuggestionsClearRequested:this.onSuggestionsClearRequested,multiSection:!0,suggestions:r,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested.bind(this),onSuggestionSelected:this.onSuggestionSelected.bind(this),getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,renderSectionTitle:this.renderSectionTitle,getSectionSuggestions:this.getSectionSuggestions,onSuggestionHighlighted:this.onSuggestionHighlighted.bind(this),highlightFirstSuggestion:!1,renderInputComponent:this.renderInputComponent,renderSuggestionsContainer:this.renderSuggestionsContainer,focusInputOnSuggestionClick:!1,inputProps:{placeholder:"Type 'promocode'",value:n,onChange:function(t,n){return e.onChange(t,n)},autoFocus:!0}})}},{key:"onSuggestionSelected",value:function(e,t){var n=t.suggestion;this.props.onSelectQuestion(n.categoryId,n.questionId)}},{key:"renderSuggestion",value:function(e,t){var n=Je()(e.text,t.query),r=Ke()(e.text,n);return Object(Ue.jsx)("span",{children:r.map((function(e,t){var n=e.highlight?"react-autosuggest__suggestion-match":void 0;return Object(Ue.jsx)("span",{className:n,children:e.text},t)}))})}},{key:"renderSectionTitle",value:function(e){return Object(Ue.jsx)("strong",{children:e.title})}},{key:"renderInputComponent",value:function(e){e.ref;var t=Object(Fe.a)(e,Xe);return Object(Ue.jsx)("div",{children:Object(Ue.jsx)("input",Object(j.a)(Object(j.a)({},t),{},{ref:$e}))})}},{key:"renderSuggestionsContainer",value:function(e){var t=e.containerProps,n=e.children;e.query;return Object(Ue.jsx)("div",Object(j.a)(Object(j.a)({},t),{},{children:Object(Ue.jsx)("span",{children:n})}))}},{key:"onChange",value:function(e,t){var n=t.newValue;t.method;this.setState({value:n})}},{key:"onSuggestionsFetchRequested",value:function(e){var t=e.value;this.setState({suggestions:this.getSuggestions(t)})}},{key:"getSuggestions",value:function(e){var t=this,n=e.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(""===n)return[];var r=n.split(" ").map((function(e){return new RegExp(e,"i")})),a=this.props,c=a.categories,s=a.categoryMap;return c.map((function(e){return console.log("categoryId:",e.categoryId),console.log("questions:",s.get(e.categoryId).questions),Object(j.a)(Object(j.a)({},e),{},{questions:s.get(e.categoryId).questions.filter((function(e){return t.anyWord(r,e.words)}))})})).filter((function(e){return e.questions.length>0}))}},{key:"getSuggestionValue",value:function(e){return e.text}},{key:"getSectionSuggestions",value:function(e){return e.questions}},{key:"onSuggestionHighlighted",value:function(e){this.setState({highlighted:e.suggestion})}}]),n}(a.Component),nt=n(45),rt=n(28),at=n(170),ct=n(105),st=n(169);var ot=Object(o.b)((function(e,t){return{options:e.usersState.userOptions,id:t.id}}))((function(e){var t=e.id,n=e.options.find((function(e){return e.value===t}));return Object(Ue.jsx)("span",{children:n?n.label:"Unknown"})})),it=function(e){var t=e.category;t||(t=Object(j.a)({},Y));var n=t,r=n.categoryId,a=n.title,c=n.questions,s=n.isExpanded,o=n.createdBy,i=n.created,u=Object(nt.a)({enableReinitialize:!0,initialValues:{categoryId:r,title:a,questions:c,isExpanded:s,createdBy:o,created:i},validationSchema:rt.b({title:rt.c().max(150,"Must be 150 characters or less").required("Required")}),onSubmit:function(t){e.saveForm(t,e.formMode),e.handleClose(!1)}}),d=function(){return"edit"===e.formMode};return console.log("RENDERING category",u.values),Object(Ue.jsxs)(at.a,{onSubmit:u.handleSubmit,children:[d()&&Object(Ue.jsxs)(at.a.Group,{controlId:"categoryId",children:[Object(Ue.jsx)(at.a.Label,{children:"Id: "}),Object(Ue.jsxs)("span",{children:[" ",u.values.categoryId]})]}),Object(Ue.jsxs)(at.a.Group,{controlId:"title",children:[Object(Ue.jsx)(at.a.Label,{children:"Title"}),Object(Ue.jsx)(at.a.Control,{as:"textarea",name:"title",onChange:u.handleChange,onBlur:function(e){d()&&u.initialValues.title!==u.values.title&&u.submitForm()},value:u.values.title,style:{width:"100%"},rows:2,placeholder:"New Category"}),Object(Ue.jsx)(at.a.Text,{className:"text-danger",children:u.touched.title&&u.errors.title?Object(Ue.jsx)("div",{className:"text-danger",children:u.errors.title}):null})]}),Object(Ue.jsx)("br",{}),Object(Ue.jsxs)(at.a.Group,{controlId:"createdBy",children:[Object(Ue.jsx)(at.a.Label,{children:"Created by:"}),Object(Ue.jsx)(ot,{id:u.values.createdBy})]}),Object(Ue.jsxs)(at.a.Group,{controlId:"created",children:[Object(Ue.jsx)(at.a.Label,{className:"id",children:"Created:"}),Object(Ue.jsx)("span",{children:u.values.created.toLocaleDateString()})]}),Object(Ue.jsx)("br",{}),!d()&&Object(Ue.jsxs)("div",{className:"buttons",children:[e.canEdit&&Object(Ue.jsx)(ct.a,{variant:"secondary",size:"sm",onClick:function(){e.cancel(),e.handleClose(!0)},children:"Cancel"}),e.canEdit&&Object(Ue.jsx)(ct.a,{variant:"primary",size:"sm",type:"submit",children:"Save"})]})]})},ut=Object(o.b)((function(e,t){var n=e.categoriesState;return{category:n.category,formMode:n.formMode,canEdit:t.canEdit,handleClose:t.handleClose}}),(function(e){return{saveForm:function(t,n){"add"===n?e(L(t)).then((function(){return e(D())})):e(G(t)).then((function(){return e(D())}))},cancel:function(){return e((function(e){try{e({type:m.CANCEL_CATEGORY})}catch(t){console.error(t)}}))}}}))((function(e){var t=Object(a.useContext)(Ge).state,n=t.darkMode;t.variant,t.bg;return Object(Ue.jsx)(st.a,{className:"".concat(n?"dark":""),children:Object(Ue.jsx)(it,Object(j.a)({},e))})}));function dt(e){var t=!!e.disabled;return Object(Ue.jsx)(at.a.Select,{id:e.id,value:e.value,onChange:function(t){var n=t.currentTarget.selectedIndex,r=e.options[n];e.onChange(t,r.value)},disabled:t,size:"sm",children:e.options.map((function(e){return Object(Ue.jsx)("option",{value:e.value,children:e.label},e.value)}))})}var lt=[{label:"Unknown",value:0},{label:"Gmail",value:1},{label:"Outlook",value:2},{label:"Phone",value:3},{label:"Chat",value:4},{label:"Slack",value:5}],jt=[{label:"Unknown",value:0},{label:"In progress",value:1},{label:"Can't reproduce",value:2},{label:"Blocked",value:3},{label:"Complete",value:4}];var Ot=He.a,bt=function(e){Object(We.a)(n,e);var t=Object(Ve.a)(n);function n(e){var r;return Object(Be.a)(this,n),(r=t.call(this,e)).state=void 0,r.onSuggestionsClearRequested=function(){r.setState({suggestions:[]})},r.anyWord=function(e,t){var n,r=Object(b.a)(e);try{for(r.s();!(n=r.n()).done;){var a,c=n.value,s=Object(b.a)(t);try{for(s.s();!(a=s.n()).done;){var o=a.value;if(c.test(o))return!0}}catch(i){s.e(i)}finally{s.f()}}}catch(i){r.e(i)}finally{r.f()}return!1},r.state={value:"",suggestions:r.getSuggestions(""),highlighted:""},r}return Object(Pe.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.value,r=t.suggestions;return Object(Ue.jsx)(Ot,{onSuggestionsClearRequested:this.onSuggestionsClearRequested,multiSection:!1,suggestions:r,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested.bind(this),onSuggestionSelected:this.onSuggestionSelected.bind(this),getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,onSuggestionHighlighted:this.onSuggestionHighlighted.bind(this),highlightFirstSuggestion:!0,renderSuggestionsContainer:this.renderSuggestionsContainer,inputProps:{placeholder:"Search answers...",value:n,onChange:function(t,n){return e.onChange(t,n)}}})}},{key:"onSuggestionSelected",value:function(e,t){var n=t.suggestion;this.props.assignQuestionAnswer(this.props.question.categoryId,this.props.question.questionId,n.answerId),this.setState({value:""})}},{key:"renderSuggestion",value:function(e,t){var n=Je()(e.text,t.query),r=Ke()(e.text,n);return Object(Ue.jsx)("span",{children:r.map((function(e,t){var n=e.highlight?"react-autosuggest__suggestion-match":void 0;return Object(Ue.jsx)("span",{className:n,children:e.text},t)}))})}},{key:"renderSuggestionsContainer",value:function(e){var t=e.containerProps,n=e.children;e.query;return Object(Ue.jsx)("div",Object(j.a)(Object(j.a)({},t),{},{children:Object(Ue.jsx)("span",{children:n})}))}},{key:"onChange",value:function(e,t){var n=t.newValue;t.method;this.props.setAnswerText&&this.props.setAnswerText(n),this.setState({value:n})}},{key:"onSuggestionsFetchRequested",value:function(e){var t=e.value;this.setState({suggestions:this.getSuggestions(t)})}},{key:"getSuggestions",value:function(e){var t=this,n=e.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(""===n)return[];var r=n.split(" ").map((function(e){return new RegExp(e,"i")}));return this.props.answersUnassigned.filter((function(e){return t.anyWord(r,e.words)}))}},{key:"getSuggestionValue",value:function(e){return e.text}},{key:"onSuggestionHighlighted",value:function(e){this.setState({highlighted:e.suggestion})}}]),n}(a.Component),pt=n(171),ht=Object(pt.a)(navigator.userAgent).any;function ft(){var e=Object(a.useState)({isHovered:!!ht}),t=Object(qe.a)(e,2),n=t[0],r=t[1],c=Object(a.useRef)(null),s=function(){return r({isHovered:!0})},o=function(){return r({isHovered:!1})};return Object(a.useEffect)((function(){var e=c.current;if(e&&!ht)return e.addEventListener("mouseenter",(function(){return s()})),e.addEventListener("mouseleave",(function(){return o()})),function(){e.removeEventListener("mouseenter",(function(){return s()})),e.removeEventListener("mouseleave",(function(){return o()}))}}),[c.current]),[c,n]}var gt=n(18),xt=n(17),mt=function(e){var t=ft(),n=Object(qe.a)(t,2),r=n[0],a=n[1],c=e.question,s=e.questionAnswer,o=e.removeQuestionAnswer,i=c.categoryId,u=c.questionId,d=s.answerId,l=s.text,j=s.assigned;return Object(Ue.jsxs)("div",{ref:r,className:"d-flex justify-content-start align-items-center",children:[Object(Ue.jsx)(ct.a,{style:{fontSize:"13px"},variant:"link",size:"sm",className:"answer py-0 px-1 text-decoration-none",title:"AnswerId:".concat(d,"\nAssigned: ").concat(j.toLocaleDateString()," ").concat(j.toLocaleTimeString()),onClick:function(){},children:l}),a.isHovered&&Object(Ue.jsx)("button",{className:"button-edit",title:"Copy Answer to Cliboard",onClick:function(e){navigator.clipboard&&navigator.clipboard.writeText("".concat(s.text)).then((function(){console.log("Copied to clipboard successfully.")}),(function(e){console.log("Failed to copy the text to clipboard.",e)})),e.stopPropagation()},children:Object(Ue.jsx)(gt.a,{icon:xt.d,color:"lightblue"})}),a.isHovered&&Object(Ue.jsx)("button",{className:"button-remove",title:"Remove",onClick:function(e){o(i,u,d),e.preventDefault()},children:Object(Ue.jsx)(gt.a,{icon:xt.l,color:"lightblue"})})]})},yt=n(308),vt=n(31),Et=function(e){var t=e.answer;t||(t=Object(j.a)({},$));var n=Object(nt.a)({enableReinitialize:!0,initialValues:{answerId:t.answerId,text:t.text,createdBy:t.createdBy,created:t.created},validationSchema:rt.b({text:rt.c().max(150,"Must be 150 characters or less").required("Required")}),onSubmit:function(t){e.saveForm(t,e.formMode)}}),r=function(){return"edit"===e.formMode};return console.log("RENDERING",n.values),Object(Ue.jsxs)(at.a,{onSubmit:n.handleSubmit,children:[r()&&Object(Ue.jsxs)(at.a.Group,{controlId:"answerId",children:[Object(Ue.jsx)(at.a.Label,{children:"Id: "}),Object(Ue.jsxs)("span",{children:[" ",n.values.answerId]})]}),Object(Ue.jsxs)(at.a.Group,{controlId:"text",children:[Object(Ue.jsx)(at.a.Label,{children:"Answer"}),Object(Ue.jsx)(at.a.Control,{as:"textarea",name:"text",onChange:n.handleChange,onBlur:function(e){r()&&n.initialValues.text!==n.values.text&&n.submitForm()},value:n.values.text,style:{width:"100%"},rows:2}),Object(Ue.jsx)(at.a.Text,{className:"text-danger",children:n.touched.text&&n.errors.text?Object(Ue.jsx)("div",{className:"text-danger",children:n.errors.text}):null})]}),Object(Ue.jsxs)(at.a.Group,{controlId:"createdBy",children:[Object(Ue.jsx)(at.a.Label,{children:"Created by:"}),Object(Ue.jsx)(ot,{id:n.values.createdBy})]}),Object(Ue.jsxs)(at.a.Group,{controlId:"created",children:[Object(Ue.jsx)(at.a.Label,{className:"id",children:"Created:"}),Object(Ue.jsx)("span",{children:n.values.created.toLocaleDateString()})]}),!r()&&Object(Ue.jsxs)("div",{className:"buttons",children:[Object(Ue.jsx)(ct.a,{variant:"secondary",size:"sm",onClick:function(){e.cancel()},children:"Cancel"}),Object(Ue.jsx)(ct.a,{variant:"primary",size:"sm",type:"submit",children:"Save"})]})]})},St=function(e){var t=Object(a.useContext)(Ge).state,n=t.darkMode;t.variant,t.bg;return Object(Ue.jsx)(st.a,{className:"".concat(n?"dark":""),children:Object(Ue.jsx)(Et,Object(j.a)({},e))})},It=function(e){var t=e.question,n=e.questionAnswers,r=e.answers,c=e.answer,s=e.canEdit,o=e.formMode,i=e.selectQuestionAnswer,u=e.copyQuestionAnswer,d=e.removeQuestionAnswer,l=e.assignQuestionAnswer,j=e.add,O=e.saveForm,b=e.cancel,p=r.filter((function(e){return!t.answers.map((function(e){return e.answerId})).includes(e.answerId)})),h=a.useState(""),f=Object(qe.a)(h,2),g=(f[0],f[1]),x=Object(a.useContext)(Ge).state,m=x.darkMode,y=x.variant,v=(x.bg,Object(a.useState)(!1)),E=Object(qe.a)(v,2),S=E[0],I=E[1],w=function(){return I(!1)},T=function(){return I(!0)},N=Object(a.useState)(!1),R=Object(qe.a)(N,2),A=R[0],C=R[1];return Object(Ue.jsxs)("div",{className:"name-container",children:[n.length>-1&&Object(Ue.jsx)("div",{style:{height:"100px",overflowY:"auto"},children:Object(Ue.jsxs)(yt.a,{variant:y,responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm",className:"mb-0",children:[Object(Ue.jsx)("thead",{children:Object(Ue.jsx)("tr",{children:Object(Ue.jsx)("th",{colSpan:2,className:"py-0 px-5",style:{color:"lightblue"},children:0===n.length?"No answers yet":"Answers"})})}),Object(Ue.jsx)("tbody",{children:n.map((function(e){return Object(Ue.jsx)("tr",{children:Object(Ue.jsx)("td",{title:"AnswerId:".concat(e.answerId,"\nAssigned: ").concat(e.assigned.toLocaleDateString()," ").concat(e.assigned.toLocaleTimeString()),className:"py-0 px-0",colSpan:2,children:Object(Ue.jsx)(mt,{question:t,questionAnswer:e,selectQuestionAnswer:i,copyQuestionAnswer:u,removeQuestionAnswer:d},e.answerId)})},e.answerId)}))})]})}),s&&"display"!==o&&Object(Ue.jsxs)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center py-1",children:[r&&r.length>0&&Object(Ue.jsx)(ct.a,{size:"sm",className:"button-edit py-0",title:"Assign a new Answer",style:{border:"1px solid silver",fontSize:"12px"},variant:y,onClick:function(e){C(!0),e.preventDefault()},children:"Assign answer"}),Object(Ue.jsx)(ct.a,{size:"sm",className:"button-edit py-0",title:"Add a new Answer",style:{border:"1px solid silver",fontSize:"12px"},variant:y,onClick:function(e){j(t.categoryId,t.questionId),T(),e.preventDefault()},children:"Create a new answer"})]}),Object(Ue.jsxs)(vt.a,{show:S,onHide:w,animation:!0,centered:!0,size:"lg",className:"".concat(m?"dark":""),contentClassName:"".concat(m?"dark":""),children:[Object(Ue.jsx)(vt.a.Header,{closeButton:!0,children:Object(Ue.jsx)(vt.a.Title,{children:"Create and assign a new answer"})}),Object(Ue.jsx)(vt.a.Body,{style:{height:"40vh",width:"50vw"},children:Object(Ue.jsx)(St,{answer:c,formMode:"add",cancel:function(){b(),w()},saveForm:function(e,n){O(t.categoryId,t.questionId,e),w()}})})]}),Object(Ue.jsxs)(vt.a,{show:A,onHide:function(){return C(!1)},animation:!0,size:"lg",centered:!0,className:"".concat(m?"dark":""),contentClassName:"".concat(m?"dark":""),children:[Object(Ue.jsx)(vt.a.Header,{closeButton:!0,children:Object(Ue.jsx)(vt.a.Title,{children:"Assign the answer"})}),Object(Ue.jsx)(vt.a.Body,{style:{height:"40vh",width:"50vw"},className:"question-answers",children:Object(Ue.jsx)(bt,{question:t,answersUnassigned:p,assignQuestionAnswer:function(e,t,n){l(e,t,n),C(!1)},setAnswerText:function(e){g(e)}})})]})]})},wt=function(e,t){return void 0===e||0===e.answers.length||void 0===t?[]:(console.log("question.answers",e.answers),e.answers.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{text:t.find((function(t){return t.answerId===e.answerId})).text})})).sort((function(e,t){return e.assigned>t.assigned?1:-1})))},Tt=Object(o.b)((function(e,t){var n=e.categoriesState,r=e.answerState,a=n.question,c=n.categoryOptions,s=n.formMode,o=r.answers,i=r.answer;return{categoryOptions:c,question:a,questionAnswers:wt(a,o),answers:o,answer:i,formMode:s,canEdit:t.canEdit}}),(function(e){return{add:function(t,n){return e(v())},saveForm:function(t,n,r){e(E(r,"add")),e(_(t,n,r.answerId))},cancel:function(){return e(S())},selectQuestionAnswer:function(t,n,r){return e(function(e,t,n){return function(){var r=Object(p.a)(Object(O.a)().mark((function r(a){return Object(O.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,k();case 3:a({type:m.REMOVE_QUESTION_ANSWER,categoryId:e,questionId:t,answerId:n}),r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),console.error(r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))},copyQuestionAnswer:function(t,n,r){return e(function(e,t,n){return function(){var r=Object(p.a)(Object(O.a)().mark((function r(a){return Object(O.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,k();case 3:a({type:m.REMOVE_QUESTION_ANSWER,categoryId:e,questionId:t,answerId:n}),r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),console.error(r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))},removeQuestionAnswer:function(t,n,r){return e(function(e,t,n){return function(){var r=Object(p.a)(Object(O.a)().mark((function r(a){return Object(O.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,k();case 3:a({type:m.REMOVE_QUESTION_ANSWER,categoryId:e,questionId:t,answerId:n}),r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),console.error(r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))},assignQuestionAnswer:function(t,n,r){return e(_(t,n,r))},addAndAssignNewAnswer:function(t,n,r,a){e(Q(t,n,r,a))}}}))(It),Nt=function(e){var t=e.question,n=t.categoryId,r=t.questionId,a=t.text,c=t.source,s=t.status,o=t.answers,i=t.createdBy,u=t.created;console.log("props.categoryOptions",e.categoryOptions);var d=Object(nt.a)({enableReinitialize:!0,initialValues:{categoryId:n,questionId:r,text:a,source:c,status:s,answers:o,createdBy:i,created:u},validationSchema:rt.b({text:rt.c().max(150,"Must be 150 characters or less").required("Required"),categoryId:rt.a().moreThan(0,"Select Category").required("Required")}),onSubmit:function(t){e.saveForm(t,e.formMode),"add"===e.formMode&&e.handleClose()}}),l="edit"===e.formMode,j="display"===e.formMode;return Object(Ue.jsxs)(at.a,{onSubmit:d.handleSubmit,children:[l&&Object(Ue.jsxs)(at.a.Group,{controlId:"questionId",children:[Object(Ue.jsx)(at.a.Label,{children:"Id:"}),Object(Ue.jsxs)("span",{className:"mx-1",children:[" ",d.values.questionId]})]}),Object(Ue.jsxs)(at.a.Group,{controlId:"categoryId",children:[Object(Ue.jsx)(at.a.Label,{children:"Category"}),Object(Ue.jsx)(dt,{id:"categoryId",name:"categoryId",options:e.categoryOptions,onChange:function(e,t){d.setFieldValue("categoryId",t).then((function(){l&&d.submitForm()}))},value:d.values.categoryId,disabled:j}),Object(Ue.jsxs)(at.a.Text,{className:"text-danger",children:["  ",d.touched.categoryId&&d.errors.categoryId?Object(Ue.jsx)("div",{className:"text-danger",children:d.errors.categoryId}):null]})]}),Object(Ue.jsxs)(at.a.Group,{controlId:"text",children:[Object(Ue.jsx)(at.a.Label,{children:"Text"}),Object(Ue.jsx)(at.a.Control,{size:"sm",as:"textarea",name:"text",onChange:d.handleChange,onBlur:function(e){l&&d.touched.text&&d.submitForm()},value:d.values.text,style:{width:"100%"},className:"py-0",rows:2,disabled:j}),Object(Ue.jsx)(at.a.Text,{className:"text-danger",children:d.touched.text&&d.errors.text?Object(Ue.jsx)("div",{className:"text-danger",children:d.errors.text}):null})]}),Object(Ue.jsxs)(at.a.Group,{controlId:"source",children:[Object(Ue.jsx)(at.a.Label,{children:"Source"}),Object(Ue.jsx)(dt,{id:"source",name:"source",options:lt,onChange:function(e,t){d.setFieldValue("source",t).then((function(){l&&d.submitForm()}))},value:d.values.source,disabled:j}),Object(Ue.jsx)(at.a.Text,{className:"text-danger",children:d.touched.source&&d.errors.source?Object(Ue.jsx)("div",{className:"text-danger",children:d.errors.source}):null})]}),Object(Ue.jsx)("br",{}),Object(Ue.jsx)(Tt,{canEdit:e.canEdit}),Object(Ue.jsx)("br",{}),Object(Ue.jsxs)(at.a.Group,{controlId:"status",children:[Object(Ue.jsx)(at.a.Label,{children:"Status"}),Object(Ue.jsx)(dt,{id:"status",name:"status",options:jt,onChange:function(e,t){d.setFieldValue("status",t).then((function(){l&&d.submitForm()}))},value:d.values.status,disabled:j}),Object(Ue.jsx)(at.a.Text,{className:"text-danger",children:d.touched.status&&d.errors.status?Object(Ue.jsx)("div",{className:"text-danger",children:d.errors.status}):null})]}),Object(Ue.jsx)("br",{}),Object(Ue.jsxs)(at.a.Group,{controlId:"createdBy",children:[Object(Ue.jsx)(at.a.Label,{children:"Created by:"})," ",Object(Ue.jsx)(ot,{id:d.values.createdBy})]}),Object(Ue.jsxs)(at.a.Group,{controlId:"created",children:[Object(Ue.jsx)(at.a.Label,{className:"id",children:"Created:"}),Object(Ue.jsxs)("span",{children:[" ",d.values.created.toLocaleDateString()]})]}),!j&&!l&&Object(Ue.jsxs)("div",{className:"buttons",children:[e.canEdit&&Object(Ue.jsx)(ct.a,{variant:"secondary",size:"sm",onClick:function(){e.cancel(),e.handleClose()},children:"Cancel"}),e.canEdit&&Object(Ue.jsx)(ct.a,{variant:"primary",size:"sm",type:"button",onClick:function(){d.submitForm()},children:"Save"})]}),j&&e.canEdit&&Object(Ue.jsx)("div",{className:"buttons",children:Object(Ue.jsx)(ct.a,{variant:"secondary",size:"sm",onClick:function(){e.editForm(d.values,e.formMode)},children:"Edit"})})]})},Rt=Object(o.b)((function(e,t){var n=e.categoriesState,r=e.answerState,a=n.question,c=n.categoryOptions,s=n.formMode;return{categoryOptions:c,question:a,answers:r.answers,formMode:s,canEdit:t.canEdit,handleClose:t.handleClose}}),(function(e){return{editForm:function(t,n){return e(C(t.categoryId,t.questionId,!0))},saveForm:function(t,n){return e("add"===n?function(e){return function(){var t=Object(p.a)(Object(O.a)().mark((function t(n,r){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.categoryId;try{n({type:m.STORE_QUESTION,question:e})}catch(r){console.error(r)}case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t):function(e){return function(){var t=Object(p.a)(Object(O.a)().mark((function t(n,r){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k();case 3:n({type:m.UPDATE_QUESTION,question:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},cancel:function(){return e((function(e){try{e({type:m.CANCEL_QUESTION})}catch(t){console.error(t)}}))}}}))((function(e){var t=Object(a.useContext)(Ge).state,n=t.darkMode;t.variant,t.bg;return Object(Ue.jsx)(st.a,{className:"mb-1 ".concat(n?"dark":""),children:Object(Ue.jsx)(Nt,Object(j.a)({},e))})})),At=n(310),Ct=n(168),_t=n(311),kt=n(309),Mt=function(e){var t=ft(),n=Object(qe.a)(t,2),r=n[0],c=n[1],s=e.question,o=e.onSelectQuestion,i=e.edit,u=e.remove,d=s.categoryId,l=s.questionId,j=Object(a.useContext)(Ge).state,O=(j.darkMode,j.variant);j.bg;return Object(Ue.jsx)(_t.a.Item,{className:"py-0",variant:O,children:Object(Ue.jsxs)("div",{ref:r,className:"d-flex justify-content-start align-items-center",children:[Object(Ue.jsx)(ct.a,{style:{fontSize:"13px"},variant:"link",size:"sm",className:"py-0 px-1 text-decoration-none",onClick:function(){return o(d,l)},children:s.text}),c.isHovered&&Object(Ue.jsx)(ct.a,{variant:O,size:"sm",className:"py-0 px-1",style:{backgroundColor:"transparent",borderWidth:"0"},title:"Edit",onClick:function(){return i(d,l,!0)},children:Object(Ue.jsx)(gt.a,{icon:xt.f,color:"lightblue"})}),c.isHovered&&Object(Ue.jsx)(ct.a,{variant:O,size:"sm",className:"py-0 px-1",style:{backgroundColor:"transparent",borderWidth:"0"},title:"Remove",onClick:function(){return u(d,l)},children:Object(Ue.jsx)(gt.a,{icon:xt.l,color:"lightblue"})})]})})},qt=function(e){var t=ft(),n=Object(qe.a)(t,2),r=n[0],c=n[1],s=e.category,o=e.questions,i=e.toggleCategory,u=e.editCategory,d=e.removeCategory,l=e.onSelectCategory,j=e.onSelectQuestion,O=e.add,b=e.edit,p=e.remove,h=s.categoryId,f=s.title,g=s.isExpanded,x=Object(a.useContext)(Ge).state,m=(x.darkMode,x.variant);x.bg;return Object(Ue.jsxs)(Ue.Fragment,{children:[Object(Ue.jsx)(_t.a.Item,{variant:m,className:"py-0 px-1",as:"li",children:Object(Ue.jsxs)("div",{ref:r,className:"d-flex justify-content-start align-items-center",children:[Object(Ue.jsx)(ct.a,{variant:"link",size:"sm",className:"py-0 px-1",style:{backgroundColor:"transparent",borderWidth:"0"},onClick:function(){return i(h)},title:"Expand",children:Object(Ue.jsx)(gt.a,{icon:g?xt.b:xt.c,color:"orange",size:"lg"})}),Object(Ue.jsx)(ct.a,{variant:"link",size:"sm",className:"py-0 mx-1 text-decoration-none",onClick:function(){return l(h)},children:f}),Object(Ue.jsx)(kt.a,{bg:"primary",pill:!0,children:o.length}),Object(Ue.jsx)(ct.a,{variant:m,size:"lg",className:"py-0 px-1",style:{backgroundColor:"transparent",borderWidth:"0"},title:"Add a new Question",onClick:function(){return O(s.categoryId,"",!0)},children:Object(Ue.jsx)(gt.a,{icon:xt.g,size:"xs",color:"orange"})}),c.isHovered&&Object(Ue.jsx)(ct.a,{variant:m,size:"sm",className:"py-0 px-1",style:{backgroundColor:"transparent",borderWidth:"0"},title:"Edit Category",onClick:function(){return u(h)},children:Object(Ue.jsx)(gt.a,{icon:xt.f,color:"lightblue"})}),c.isHovered&&0===o.length&&Object(Ue.jsx)(ct.a,{size:"sm",className:"py-0 px-1",style:{backgroundColor:"transparent",borderWidth:"0"},title:"Remove Category",onClick:function(){return d(h)},children:Object(Ue.jsx)(gt.a,{icon:xt.l,color:"lightblue"})})]})}),g&&Object(Ue.jsx)(_t.a.Item,{className:"py-0",variant:m,children:Object(Ue.jsx)(_t.a,{as:"ul",variant:m,className:"inner-list",children:o.map((function(e){return Object(Ue.jsx)(Mt,{question:e,onSelectQuestion:j,edit:b,remove:p},e.questionId)}))})})]})},Ut=function(e){var t=Object(a.useContext)(Ge).state,n=(t.darkMode,t.variant),r=(t.bg,e.categories),c=e.categoryMap,s=e.onSelectCategory,o=e.onSelectQuestion,i=e.add,u=e.edit,d=e.remove,l=e.addCategory,j=e.toggleCategory,O=e.editCategory,b=e.removeCategory,p=Object(a.useRef)(null);return setTimeout((function(){null!==p.current&&(p.current.select(),p.current.focus())}),100),console.log("RENDERUJEM Categories -----------\x3e>>>>>>>>>"),Object(Ue.jsxs)(Ue.Fragment,{children:[Object(Ue.jsxs)("h5",{children:["Categories"," ",Object(Ue.jsx)("button",{className:"button-add-category button-edit",title:"Add a new Category",onClick:function(){return l()},children:Object(Ue.jsx)(gt.a,{icon:xt.g,size:"xs",color:"lightblue"})})]}),Object(Ue.jsx)(_t.a,{as:"ul",variant:n,children:r.map((function(e){var t=e.categoryId,n=(e.title,e.isExpanded,c.get(t).questions);return Object(Ue.jsx)(qt,{category:e,questions:n,onSelectCategory:s,toggleCategory:j,editCategory:O,removeCategory:b,onSelectQuestion:o,add:i,edit:u,remove:d},e.categoryId)}))})]})},Lt=Object(o.b)((function(e,t){var n=e.categoriesState,r=e.tagState,a=e.topState,c=n.categories,s=n.categoryMap,o=n.showCategoryForm,i=n.category,u=n.showQuestionForm,d=n.question;return{categories:c,categoryMap:s,categoryOptions:n.categoryOptions,showCategoryForm:o,category:i,showQuestionForm:u,question:d,formMode:n.formMode,categoryIdEditing:n.categoryIdEditing,canEdit:t.canEdit,tagOptions:r.tags.map((function(e){return{label:e.name,value:e.tagId,color:e.color}})),auth:a.top.auth}}),(function(e){return{onSelectQuestion:function(t,n){e(R(t,n)),e(q())},add:function(t,n,r){e(A(t,n)),e(q())},edit:function(t,n,r){return e(C(t,n,r))},remove:function(t,n){return e(function(e,t){return function(){var n=Object(p.a)(Object(O.a)().mark((function n(r){return Object(O.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k();case 3:r({type:m.REMOVE_QUESTION,categoryId:e,questionId:t}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.error(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))},closeQuestionForm:function(){return e(M())},openQuestionForm:function(){return e(q())},addAndAssignNewAnswer:function(t,n,r,a){e(Q(t,n,r,a))},onSelectCategory:function(t){return e(function(e,t){return function(){var n=Object(p.a)(Object(O.a)().mark((function n(r){return Object(O.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{r({type:m.GET_CATEGORY,categoryId:e,showCategoryForm:t})}catch(a){console.error(a)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,!0))},addCategory:function(){return e(U())},toggleCategory:function(t){return e(function(e){return function(){var t=Object(p.a)(Object(O.a)().mark((function t(n){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:m.TOGGLE_CATEGORY,categoryId:e})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},editCategory:function(t){return e(function(e){return function(){var t=Object(p.a)(Object(O.a)().mark((function t(n){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:m.EDIT_CATEGORY,categoryId:e,showCategoryForm:!0})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},removeCategory:function(t){return e(function(e){return function(){var t=Object(p.a)(Object(O.a)().mark((function t(n){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k();case 3:return n({type:m.REMOVE_CATEGORY,categoryId:e}),t.abrupt("return",Promise.resolve(0));case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t)).then((function(){return e(D())}))},storeCategory:function(t){return e(L(t)).then((function(){return e(D())}))},updateCategory:function(t){return e(G(t)).then((function(){return e(D())}))}}}))(Ut),Gt=function(e){var t=Object(Me.n)().tekst,n=e.categories,r=e.categoryMap,c=e.showCategoryForm,s=e.category,o=e.showQuestionForm,i=(e.question,e.formMode),u=e.canEdit,d=e.onSelectQuestion,l=Object(a.useRef)(null);setTimeout((function(){null!==l.current&&(l.current.select(),l.current.focus())}),100),console.log("RENDERUJEM Categories -----------\x3e>>>>>>>>>");var O=Object(a.useContext)(Ge).state,b=O.darkMode;O.variant,O.bg;return Object(Ue.jsx)(st.a,{fluid:!0,children:Object(Ue.jsxs)(At.a,{className:"".concat(b?"dark":"light"),children:[Object(Ue.jsx)(Ct.a,{md:7,children:Object(Ue.jsxs)("div",{style:{border:"0px solid silver"},children:[Object(Ue.jsx)(tt,{categories:n,categoryMap:r,tekst:t,onSelectQuestion:function(e,t){return d(e,t,u)}}),Object(Ue.jsx)("hr",{}),n&&Object(Ue.jsx)(Lt,Object(j.a)({},e))]})}),Object(Ue.jsx)(Ct.a,{md:5,children:Object(Ue.jsxs)("div",{className:"".concat(b?"dark":"light"),children:[c&&s&&Object(Ue.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"5px 5px 15px 5px"},children:[Object(Ue.jsx)("h4",{style:{marginTop:0},children:"Category"}),Object(Ue.jsx)(ut,{canEdit:"display"!==i&&u,handleClose:function(){}})]}),o&&Object(Ue.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"5px 5px 15px 5px"},children:[Object(Ue.jsx)("h4",{style:{marginTop:0},children:"Question"}),Object(Ue.jsx)(Rt,{canEdit:"display"!==i&&u,handleClose:function(){}})]})]})})]})})},Dt=function(e){var t=Object(Me.n)().tekst,n=e.categories,r=e.categoryMap,c=e.category,s=e.question,o=e.showQuestionForm,i=e.onSelectQuestion,u=e.add,d=e.canEdit,l=e.formMode,j=e.addCategory,O=Object(a.useState)(!1),b=Object(qe.a)(O,2),p=b[0],h=b[1],f=function(){return h(!1)},g=Object(a.useState)(!1),x=Object(qe.a)(g,2),m=x[0],y=x[1],v=n&&(c||s),E=Object(a.useContext)(Ge).state,S=E.darkMode,I=E.variant;E.bg;return Object(Ue.jsxs)(st.a,{fluid:!0,children:[Object(Ue.jsx)(At.a,{className:"".concat(S?"dark":""),children:Object(Ue.jsx)(Ct.a,{md:v?6:12,lg:v?6:12,children:Object(Ue.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(Ue.jsx)(tt,{categories:n,categoryMap:r,tekst:t,onSelectQuestion:function(e,t){return i(e,t,d)}}),Object(Ue.jsx)(ct.a,{variant:I,className:"button-edit",title:"Create a new Question",onClick:function(){0===n.length?(j(),y(!0)):(u(0,null!==t&&void 0!==t?t:"",!0),h(!0))},children:Object(Ue.jsx)(gt.a,{icon:xt.g,size:"lg"})})]})})}),Object(Ue.jsx)(At.a,{children:Object(Ue.jsx)(Ct.a,{md:v?6:12,lg:v?6:12,children:Object(Ue.jsx)("div",{children:n&&s&&o&&Object(Ue.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"5px 5px 15px 5px"},children:[Object(Ue.jsx)("h4",{style:{textAlign:"center"},children:"Question"}),Object(Ue.jsx)(Rt,{canEdit:d,handleClose:function(){}})]})})})}),Object(Ue.jsxs)(vt.a,{show:m,animation:!0,size:"sm",centered:!0,className:"".concat(S?"dark":""),contentClassName:"".concat(S?"dark":""),children:[Object(Ue.jsx)(vt.a.Header,{closeButton:!0,children:Object(Ue.jsx)(vt.a.Title,{children:"First create Category"})}),Object(Ue.jsx)(vt.a.Body,{children:Object(Ue.jsx)(ut,{canEdit:"display"!==l&&d,handleClose:function(e){c&&0!==c.categoryId&&(y(!1),e||(u(c.categoryId,null!==t&&void 0!==t?t:"",!0),h(!0)))}})})]}),Object(Ue.jsxs)(vt.a,{show:p,onHide:f,animation:!0,size:"sm",centered:!0,className:"".concat(S?"dark":""),contentClassName:"".concat(S?"dark":""),children:[Object(Ue.jsx)(vt.a.Header,{closeButton:!0,children:Object(Ue.jsx)(vt.a.Title,{children:"Store question"})}),Object(Ue.jsx)(vt.a.Body,{children:Object(Ue.jsx)(Rt,{canEdit:d,handleClose:f})})]})]})},Qt=function(e,t){var n=e.categoriesState,r=e.tagState,a=e.topState,c=n.categories,s=n.categoryMap,o=n.showCategoryForm,i=n.category,u=n.showQuestionForm,d=n.question;return{categories:c,categoryMap:s,categoryOptions:n.categoryOptions,showCategoryForm:o,category:i,showQuestionForm:u,question:d,formMode:n.formMode,categoryIdEditing:n.categoryIdEditing,canEdit:t.canEdit,tagOptions:r.tags.map((function(e){return{label:e.name,value:e.tagId,color:e.color}})),auth:a.top.auth}},Ft=function(e){return{onSelectQuestion:function(t,n,r){e(r?C(t,n):R(t,n)),e(q())},add:function(t,n,r){return e(A(t,n))},addCategory:function(){return e(U())},closeQuestionForm:function(){return e(M())}}},Bt={categories:Object(o.b)(Qt,Ft)(Gt),supporter:Object(o.b)(Qt,Ft)(Dt)},Pt=function(e){return Object(Ue.jsx)(Bt.supporter,{canEdit:e.canEdit,handleClose:function(){}})},Wt=function(e){var t=e.answer,n=e.usedAnswers,r=e.getCategoryQuestion,a=e.edit,c=e.remove;return Object(Ue.jsxs)("tr",{children:[Object(Ue.jsx)("td",{children:t.answerId}),Object(Ue.jsx)("td",{children:t.text}),Object(Ue.jsx)("td",{children:Object(Ue.jsx)("button",{className:"button-edit",title:"Add a new Answer",onClick:function(){return a(t.answerId)},children:Object(Ue.jsx)(gt.a,{icon:xt.f,color:"lightblue"})})}),Object(Ue.jsx)("td",{children:Object(Ue.jsx)("button",{className:"button-remove",title:"Remove Answer",onClick:function(){var e=n.find((function(e){return e.answerId===t.answerId}));e?alert('Answer is assigned to the question: \n"'.concat(r(e.categoryId,e.questionId),'". \nFirst unassign answer from question!')):c(t.answerId)},children:Object(Ue.jsx)(gt.a,{icon:xt.l,color:"lightblue"})})})]},t.answerId)},Vt=function(e){var t=e.answers,n=e.usedAnswers,r=e.getCategoryQuestion,c=e.edit,s=e.remove,o=Object(a.useContext)(Ge).state,i=(o.darkMode,o.variant);o.bg;return Object(Ue.jsxs)(yt.a,{variant:i,responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(Ue.jsx)("thead",{children:Object(Ue.jsxs)("tr",{children:[Object(Ue.jsx)("th",{children:"Id"}),Object(Ue.jsx)("th",{children:"Answer"}),Object(Ue.jsx)("th",{}),Object(Ue.jsx)("th",{})]})}),Object(Ue.jsx)("tbody",{children:t.map((function(e){return Object(Ue.jsx)(Wt,{answer:e,usedAnswers:n,getCategoryQuestion:r,edit:c,remove:s},e.answerId)}))})]})},zt=function(e){var t=Object(a.useContext)(Ge).state,n=t.darkMode,r=(t.variant,t.bg,e.answers),c=e.answer,s=e.usedAnswers,o=e.getCategoryQuestion,i=e.formMode,u=e.add,d=e.edit,l=e.remove,j=e.cancel,O=e.saveForm;return Object(Ue.jsx)(st.a,{fluid:!0,children:Object(Ue.jsxs)(At.a,{className:"".concat(n?"dark":"light"),children:[Object(Ue.jsx)(Ct.a,{md:7,children:Object(Ue.jsxs)("div",{className:"".concat(n?"dark":""),children:[Object(Ue.jsx)(ct.a,{variant:"primary",onClick:function(){return u()},className:"mb-1",children:"Add new"}),0===r.length?Object(Ue.jsx)("div",{children:"No answers at all  "}):Object(Ue.jsx)("div",{children:Object(Ue.jsx)(Vt,{answers:r,usedAnswers:s,getCategoryQuestion:o,edit:d,remove:l})})]})}),Object(Ue.jsx)(Ct.a,{md:5,children:Object(Ue.jsx)("div",{className:"".concat(n?"dark":"light"),children:c&&Object(Ue.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"5px 5px 15px 5px"},children:[Object(Ue.jsx)("h4",{children:"add"===i?"New Answer":"Answer"}),Object(Ue.jsx)(St,{answer:c,formMode:i,cancel:j,saveForm:function(e){return O(e,i)}})]})})})]})})},Ht=function(e){var t,n=e.categories,r=e.categoryMap,a=[],c=Object(b.a)(n);try{var s=function(){var e,n=t.value,c=r.get(n.categoryId),s=Object(b.a)(c.questions);try{var o=function(){var t=e.value,r=t.answers.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{categoryId:n.categoryId,questionId:t.questionId})}));a=a.concat(r)};for(s.s();!(e=s.n()).done;)o()}catch(i){s.e(i)}finally{s.f()}};for(c.s();!(t=c.n()).done;)s()}catch(o){c.e(o)}finally{c.f()}return a},Yt=Object(o.b)((function(e){return{answers:e.answerState.answers,answer:e.answerState.answer,formMode:e.answerState.formMode,usedAnswers:Ht(e.categoriesState),getCategoryQuestion:function(t,n){return function(e,t,n){var r=e.categories,a=e.categoryMap,c=r.find((function(e){return e.categoryId===t})),s=a.get(c.categoryId).questions.find((function(e){return e.questionId===n}));return"".concat(c.title,"/").concat(s.text)}(e.categoriesState,t,n)},who:e.topState.top.auth.who}}),(function(e){return{add:function(){return e(v())},edit:function(t){return e(function(e){return function(){var t=Object(p.a)(Object(O.a)().mark((function t(n){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:r.EDIT_ANSWER,answerId:e})}catch(a){console.error(a)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},remove:function(t){return e(function(e){return function(){var t=Object(p.a)(Object(O.a)().mark((function t(n){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:r.REMOVE_ANSWER,answerId:e})}catch(a){console.error(a)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},saveForm:function(t,n){return e(E(t,n))},cancel:function(){return e(S())}}}))(zt),Jt=function(e){var t=e.userEditing,n=e.auth.who,r=t,a=r.roleId,c=r.userId,s=r.userName,o=r.pwd,i=r.department,u=r.createdBy,d=r.created,l=Object(nt.a)({enableReinitialize:!0,initialValues:{roleId:a,userId:c,userName:s,pwd:o,department:i,createdBy:u,created:d},validationSchema:rt.b({roleId:rt.c().required("Required"),userName:rt.c().max(64,"Must be 64 characters or less").required("Required"),pwd:rt.c().min(7).max(16).required()}),onSubmit:function(t){alert(JSON.stringify(t,null,2)),11!==n.roleId?alert("Only Owner can maintain Users"):e.saveForm(t,e.formMode)}}),j=function(){return"edit"===e.formMode};return console.log("RENDERING user",l.values),Object(Ue.jsxs)(at.a,{onSubmit:l.handleSubmit,children:[Object(Ue.jsxs)(at.a.Group,{controlId:"userId",children:[Object(Ue.jsx)(at.a.Label,{children:"UserId:"}),Object(Ue.jsxs)("span",{id:"userId",children:[" ",l.values.userId]})]}),Object(Ue.jsxs)(at.a.Group,{controlId:"roleId",children:[Object(Ue.jsx)(at.a.Label,{children:"Role"}),Object(Ue.jsx)(dt,{id:"roleId",name:"roleId",options:11===a?e.roleOptions:e.roleOptions.filter((function(e){return 11!==e.value})),onChange:function(e,t){l.setFieldValue("roleId",t),j()&&l.submitForm()},value:l.values.roleId,disabled:11===a})]}),Object(Ue.jsxs)(at.a.Group,{controlId:"userName",children:[Object(Ue.jsx)(at.a.Label,{children:"Name"}),Object(Ue.jsx)(at.a.Control,{as:"input",name:"userName",onChange:l.handleChange,onBlur:function(e){j()&&l.initialValues.userName!==l.values.userName&&l.submitForm()},value:l.values.userName,style:{width:"100%"}}),Object(Ue.jsx)(at.a.Text,{className:"text-danger",children:l.touched.userName&&l.errors.userName?Object(Ue.jsx)("div",{className:"text-danger",children:l.errors.userName}):null})]}),Object(Ue.jsxs)(at.a.Group,{className:"mb-3",controlId:"pwd",children:[Object(Ue.jsx)(at.a.Label,{children:"Password"}),Object(Ue.jsx)(at.a.Control,{type:"password",placeholder:"Password",name:"pwd",value:l.values.pwd,onChange:l.handleChange,onBlur:function(e){j()&&l.initialValues.pwd!==l.values.pwd&&l.submitForm()}}),Object(Ue.jsx)(at.a.Text,{className:"text-danger",children:l.touched.pwd&&l.errors.pwd?Object(Ue.jsx)("div",{className:"text-danger",children:l.errors.pwd}):null})]}),Object(Ue.jsxs)(at.a.Group,{controlId:"createdBy",children:[Object(Ue.jsx)(at.a.Label,{children:"Created by:"}),Object(Ue.jsx)(ot,{id:l.values.createdBy})]}),Object(Ue.jsxs)(at.a.Group,{controlId:"created",children:[Object(Ue.jsx)(at.a.Label,{className:"id",children:"Created:"}),Object(Ue.jsx)("span",{children:l.values.created.toLocaleDateString()})]}),!j()&&Object(Ue.jsxs)("div",{className:"buttons",children:[e.canEdit&&Object(Ue.jsx)(ct.a,{variant:"secondary",size:"sm",onClick:function(){e.cancel()},children:"Cancel"}),e.canEdit&&Object(Ue.jsx)(ct.a,{variant:"primary",size:"sm",type:"submit",children:"Save"})]})]})},Zt=Object(o.b)((function(e,t){var n=e.usersState,r=e.topState,a=n.roles,c=n.userEditing,s=n.roleOptions,o=n.formMode,i=n.roleIdEditing;return{auth:r.top.auth,roles:a,roleOptions:s,userEditing:c,formMode:o,roleIdEditing:i,canEdit:t.canEdit}}),(function(e){return{onSelectUser:function(t){return e(oe(t))},add:function(t,n,r){return e(ue(t,n))},edit:function(t,n){return e(de(t,n))},remove:function(t,n){return e(le(t,n))},saveForm:function(t,n){return e(je(t,n))},cancel:function(){return e((function(e){try{e({type:T.CANCEL_USER})}catch(t){console.error(t)}}))}}}))((function(e){var t=Object(a.useContext)(Ge).state,n=t.darkMode;t.variant,t.bg;return Object(Ue.jsx)(st.a,{className:"".concat(n?"dark":""),children:Object(Ue.jsx)(Jt,Object(j.a)({},e))})})),Kt=function(e){var t=ft(),n=Object(qe.a)(t,2),r=n[0],c=n[1],s=e.who,o=e.user,i=e.onSelectUser,u=e.edit,d=e.remove,l=o.roleId,j=o.userId,O=o.userName,b=a.useContext(Ge).state,p=(b.darkMode,b.variant);b.bg;return Object(Ue.jsx)(_t.a.Item,{as:"li",className:"py-0",variant:p,children:Object(Ue.jsxs)("div",{ref:r,className:"d-flex justify-content-start align-items-center",children:[Object(Ue.jsxs)(ct.a,{style:{fontSize:"13px"},variant:"link",size:"sm",className:"py-0 px-1 text-decoration-none",onClick:function(){return i(j)},children:[O," ",j]}),c.isHovered&&Object(Ue.jsx)(ct.a,{variant:p,size:"sm",className:"py-0 px-1",style:{backgroundColor:"transparent",borderWidth:"0"},title:"Edit",onClick:function(){return u(l,j)},children:Object(Ue.jsx)(gt.a,{icon:xt.f,color:"lightblue"})}),c.isHovered&&11===s.roleId&&Object(Ue.jsx)(ct.a,{variant:p,size:"sm",className:"py-0 px-1",style:{backgroundColor:"transparent",borderWidth:"0"},title:"Remove",onClick:function(){return d(l,j)},children:Object(Ue.jsx)(gt.a,{icon:xt.l,color:"lightblue"})})]})})},Xt=function(e){var t=ft(),n=Object(qe.a)(t,2),r=n[0],c=n[1],s=e.who,o=e.userRole,i=e.toggleRole,u=e.editRole,d=e.removeRole,l=e.add,j=o.roleId,O=o.title,b=o.users,p=o.isExpanded,h=o.color,f=a.useContext(Ge).state,g=(f.darkMode,f.variant);f.bg;return Object(Ue.jsxs)("div",{ref:r,children:[Object(Ue.jsx)("button",{className:"button-edit",title:"Expand",onClick:function(){return i(j)},style:{marginLeft:"5px"},children:Object(Ue.jsx)(gt.a,{icon:p?xt.b:xt.c,color:h,size:"lg"})}),Object(Ue.jsx)(ct.a,{variant:"link",size:"sm",className:"py-0 mx-1 text-decoration-none",children:O}),Object(Ue.jsx)(ct.a,{variant:g,size:"lg",className:"py-0 px-1",style:{backgroundColor:"transparent",borderWidth:"0"},title:"Add a new User",onClick:function(){return l(j,"")},disabled:11===j,children:Object(Ue.jsx)(gt.a,{icon:xt.g,size:"xs",color:"orange"})}),c.isHovered&&11===s.roleId&&Object(Ue.jsx)("button",{className:"button-edit",title:"Edit Section",onClick:function(){return u(j)},children:Object(Ue.jsx)(gt.a,{icon:xt.f,color:"lightblue"})}),c.isHovered&&0===b.length&&11===s.roleId&&Object(Ue.jsx)("button",{className:"button-remove",title:"Remove Section",onClick:function(){return d(j)},children:Object(Ue.jsx)(gt.a,{icon:xt.l,color:"lightblue"})}),Object(Ue.jsx)(kt.a,{bg:"primary",pill:!0,children:b.length})]})},$t=function(e){var t=e.who,n=e.roles,r=e.userEditing,c=e.formMode,s=e.roleIdEditing,o=e.onSelectUser,i=e.add,u=e.edit,d=e.remove,l=e.canEdit,O=e.addRole,b=e.toggleRole,p=e.editRole,h=e.removeRole,f=e.storeRole,g=Object(a.useRef)(null);setTimeout((function(){null!==g.current&&(g.current.select(),g.current.focus())}),100);var x=Object(a.useContext)(Ge).state,m=x.darkMode,y=x.variant,v=(x.bg,null!==n&&void 0!==n?n:[]);return console.log({userRoles:v}),Object(Ue.jsx)(st.a,{fluid:!0,children:Object(Ue.jsxs)(At.a,{className:"".concat(m?"dark":"light"),children:[Object(Ue.jsx)(Ct.a,{md:7,children:Object(Ue.jsxs)("div",{style:{border:"0px solid silver"},children:[Object(Ue.jsxs)("h5",{children:["Users by Role"," ",Object(Ue.jsx)("button",{className:"button-add-category button-edit",title:"Add a new Role",onClick:function(){return O()},children:Object(Ue.jsx)(gt.a,{icon:xt.g,size:"xs",color:"lightblue"})})]}),Object(Ue.jsx)(_t.a,{as:"ul",variant:y,children:v.map((function(e){var n=e.roleId,r=e.title,c=e.isExpanded,l=e.users;return Object(Ue.jsxs)(a.Fragment,{children:[Object(Ue.jsx)(_t.a.Item,{variant:y,className:"py-0 px-1",as:"li",children:Object(Ue.jsxs)("div",{className:"d-flex justify-content-start align-items-center",style:{textAlign:"start"},children:[s===n&&Object(Ue.jsx)("input",{ref:g,name:"groupTitle",type:"text",onBlur:function(t){return f(Object(j.a)(Object(j.a)({},e),{},{title:t.target.value}))},defaultValue:r}),s!==n&&Object(Ue.jsx)(Xt,{who:t,userRole:e,toggleRole:b,editRole:p,removeRole:h,add:i})]})},n+"_1"),c&&e.users.length>0&&Object(Ue.jsx)(_t.a.Item,{variant:y,className:"py-0 px-1",as:"li",children:Object(Ue.jsx)(_t.a,{as:"ul",variant:y,className:"inner-list py-0 ms-5",children:l.map((function(e){return Object(Ue.jsx)(Kt,{who:t,user:e,onSelectUser:o,edit:u,remove:d},e.userId)}))})},n+"_2")]},n)}))})]})}),Object(Ue.jsx)(Ct.a,{md:5,children:Object(Ue.jsx)("div",{className:"".concat(m?"dark":"light"),children:v&&r&&Object(Ue.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"5px 5px 15px 5px"},children:[Object(Ue.jsx)("h4",{style:{marginTop:0,color:"white"},children:"User"}),Object(Ue.jsx)(Zt,{canEdit:"display"!==c&&l})]})})})]})})},en=Object(o.b)((function(e,t){var n=e.usersState,r=e.topState,a=n.roles,c=n.userEditing,s=n.formMode,o=n.roleIdEditing;return{who:r.top.auth.who,roles:a,userEditing:c,formMode:s,roleIdEditing:o,canEdit:t.canEdit}}),(function(e){return{onSelectUser:function(t){return e(oe(t))},add:function(t,n,r){return e(ue(t,n))},edit:function(t,n){return e(de(t,n))},remove:function(t,n){return e(le(t,n))},addRole:function(){return e(function(){var e=Object(p.a)(Object(O.a)().mark((function e(t){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:T.ADD_ROLE})}catch(n){console.error(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},toggleRole:function(t){return e(function(e){return function(){var t=Object(p.a)(Object(O.a)().mark((function t(n){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:T.TOGGLE_ROLE,roleId:e})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},editRole:function(t){return e(function(e){return function(){var t=Object(p.a)(Object(O.a)().mark((function t(n){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:T.EDIT_ROLE,roleId:e})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},removeRole:function(t){return e(function(e){return function(){var t=Object(p.a)(Object(O.a)().mark((function t(n){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Oe();case 3:n({type:T.REMOVE_ROLE,roleId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(t))},storeRole:function(t){return e((n=t,function(){var e=Object(p.a)(Object(O.a)().mark((function e(t){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:T.STORE_ROLE,group:n})}catch(r){console.error(r)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var n}}}))($t),tn=function(e){var t=e.authError,n=Object(Me.l)();e.isAuthenticated&&n("/questions");var r=Object(nt.a)({enableReinitialize:!0,initialValues:{userName:"",pwd:""},validationSchema:rt.b({userName:rt.c().max(32,"Must be 32 characters or less").required("Required"),pwd:rt.c().min(7).max(16).required()}),onSubmit:function(t){e.saveForm(t,e.formMode,e.isRegister)}});return console.log("RENDERING LoginForm",r.values),Object(Ue.jsxs)(at.a,{onSubmit:r.handleSubmit,children:[Object(Ue.jsxs)(at.a.Group,{controlId:"userName",children:[Object(Ue.jsx)(at.a.Label,{children:"Name"}),Object(Ue.jsx)(at.a.Control,{as:"input",name:"userName",onChange:r.handleChange,onBlur:r.handleBlur,value:r.values.userName,placeholder:"User name",maxLength:16}),Object(Ue.jsx)(at.a.Text,{className:"text-danger",children:r.touched.userName&&r.errors.userName?Object(Ue.jsx)("div",{className:"text-danger",children:r.errors.userName}):null})]}),Object(Ue.jsx)("br",{}),Object(Ue.jsxs)(at.a.Group,{controlId:"pwd",children:[Object(Ue.jsx)(at.a.Label,{children:"Password"}),Object(Ue.jsx)(at.a.Control,{as:"input",name:"pwd",type:"password",onChange:r.handleChange,onBlur:r.handleBlur,value:r.values.pwd,placeholder:"password",maxLength:16}),Object(Ue.jsx)(at.a.Text,{className:"text-danger",children:r.touched.pwd&&r.errors.pwd?Object(Ue.jsx)("div",{className:"text-danger",children:r.errors.pwd}):null})]}),t&&Object(Ue.jsx)("div",{children:t}),Object(Ue.jsx)("br",{}),Object(Ue.jsxs)("div",{className:"buttons",children:[Object(Ue.jsx)(ct.a,{variant:"secondary",size:"sm",onClick:function(){e.cancel(),n("/landing")},children:"Cancel"}),Object(Ue.jsx)(ct.a,{variant:"primary",size:"sm",type:"submit",children:"Submit"})]})]})},nn=Object(o.b)((function(e,t){var n=e.topState.top;return{isAuthenticated:n.isAuthenticated,uuid:n.uuid,authError:n.authError,canEdit:t.canEdit,isRegister:t.isRegister,formMode:"edit"}}),(function(e){return{saveForm:function(t,n,r){return e(r?(a=t,function(){var e=Object(p.a)(Object(O.a)().mark((function e(t,n){var r,c,s;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r=n(),c=r.usersState,s=c.allUsers,t(ie(a.userName)).then((function(e){if(e)t({type:Se.REGISTER_USERNAME_EXISTS});else{var n=ye.VIEWERS,r=0;0===s.length?(n=ye.OWNER,r=c.ownerUserId):r=Math.max.apply(Math,Object(l.a)(s.map((function(e){return e.userId}))))+1;var o={roleId:n,userId:r,userName:a.userName,pwd:a.pwd,department:"dept1",createdBy:r,created:new Date};t(je(o,"add")).then((function(e){t({type:Se.REGISTER,user:e}),t(Te(a)),t({type:T.CREATE_OPTIONS})}))}}))}catch(o){console.error(o)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()):Te(t));var a},cancel:function(){return e((function(e){try{e({type:Se.CANCEL})}catch(t){console.error(t)}}))}}}))((function(e){var t=Object(a.useContext)(Ge).state,n=t.darkMode;t.variant,t.bg;return Object(Ue.jsxs)(st.a,{className:"".concat(n?"dark":""),children:[Object(Ue.jsx)(At.a,{className:"py-2",children:Object(Ue.jsx)(Ct.a,{md:"4",className:"mx-auto",children:Object(Ue.jsx)("h4",{style:{textAlign:"center"},children:e.isRegister?"Register":"Sign In"})})}),Object(Ue.jsx)(At.a,{children:Object(Ue.jsx)(Ct.a,{md:"6",className:"mx-auto",children:Object(Ue.jsx)(tn,Object(j.a)({},e))})})]})})),rn=function(e){return Object(Ue.jsx)("div",{children:"Landing Page"})},an=n(131),cn=n.n(an),sn={display:function(){var e=Object(p.a)(Object(O.a)().mark((function e(){var t,n,r,a,c,s,o;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<localStorage.length)){e.next=20;break}if(n=localStorage.key(t),console.log("============"),console.log(n),console.log("\n============"),e.t0=console,!n){e.next=13;break}return e.next=10,localStorage.getItem(n);case 10:e.t1=e.sent,e.next=14;break;case 13:e.t1="null";case 14:e.t2=e.t1,e.t0.log.call(e.t0,e.t2),"SUPPORT_TOP"===n?console.log(JSON.stringify(JSON.parse(localStorage.getItem(n),null,2))):n&&localStorage.getItem(n)&&(r=JSON.parse(localStorage.getItem(n)),Object.values(r).forEach((function(e){return console.log(JSON.stringify(e))})));case 17:t++,e.next=1;break;case 20:for(a="",c=0;c<localStorage.length;c++)s=localStorage.key(c),a+="<h7>"+(null!==s&&void 0!==s?s:"null")+"</h7>","SUPPORT_TOP"===s?(a+="<ul>",a+=JSON.stringify(JSON.parse(localStorage.getItem(s)),null,2),a+="</ul>"):s&&localStorage.getItem(s)&&(o=JSON.parse(localStorage.getItem(s)),a+="<ul>",Object.values(o).forEach((function(e){return a+="<li>"+JSON.stringify(e)+"</li>"})),a+="</ul>");return e.abrupt("return",Promise.resolve(a));case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),clear:function(e,t){if(!0===window.confirm("Are you sure?")){var n=localStorage.getItem("SUPPORT_TOP"),r=localStorage.getItem("SUPPORT_USERS");sn.export(),localStorage.clear(),e(),t(),n&&localStorage.setItem("SUPPORT_TOP",n),r&&localStorage.setItem("SUPPORT_USERS",r),localStorage.setItem("SUPPORT_CATEGORIES",""),localStorage.setItem("SUPPORT_ANSWERS","")}},export:function(){var e=JSON.stringify(localStorage);e||console.error("Console.save: No data"),console.log((new Date).toISOString());var t=(new Date).toISOString().replace(/T/," ").replace(/\..+/,""),n="SupportKnowlegde_".concat(t,".").concat("zip"),r=new cn.a;r.file("KnowledgeSupport.json",e),r.generateAsync({type:"blob"}).then((function(e){var t=document.createEvent("MouseEvents"),r=document.createElement("a");r.download=n,r.href=window.URL.createObjectURL(e),r.dataset.downloadurl=["text/json",r.download,r.href].join(":"),t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(t)}))},import:function(){var e=Object(p.a)(Object(O.a)().mark((function e(t,n,r){var a;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new cn.a).loadAsync(t).then((function(e){Object.keys(e.files).forEach((function(e){a.file(e).async("string").then((function(t){console.log(e,"CONTENT:",t);var a=JSON.parse(t);return Object.keys(a).forEach((function(e){["SUPPORT_USERS","SUPPORT_TOP"].includes(e)||localStorage.setItem(e,a[e])})),n(),r(),new Blob([t],{type:"text/json"})}))}))})),e.abrupt("return",new Blob(["Imported"],{type:"text/json"}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},on=n(47),un=n(87),dn=n(32),ln=n(57);var jn=Object(o.b)((function(e,t){return{isAuthenticated:e.topState.top.isAuthenticated,auth:e.topState.top.auth,showModalJSON:e.topState.top.showModalJSON,signOut:t.signOut}}),(function(e){return{toggleMode:function(){return e((function(e){try{e({type:Se.TOGGLE_MODE})}catch(t){console.error(t)}}))},closeQuestionForm:function(){return e(M())},clearAnswers:function(){return e((function(e){try{e({type:r.CLEAR})}catch(t){console.error(t)}}))},clearQuestions:function(){return e((function(e){try{e({type:m.CLEAR})}catch(t){console.error(t)}}))},getAllAnswers:function(){return e(y())},loadCategories:function(){return e(N()).then((function(){return e(D())}))},setShowModalJSON:function(t){return e(function(e){return function(t){try{t({type:Se.SHOW_MODAL_JSON,show:e})}catch(n){console.error(n)}}}(t))}}}))((function(e){var t=e.isAuthenticated,n=e.showModalJSON,r=e.auth,c=e.signOut,s=e.toggleMode,o=e.closeQuestionForm,i=e.clearAnswers,u=e.clearQuestions,d=e.getAllAnswers,l=e.loadCategories,j=e.setShowModalJSON,O=Object(a.useContext)(Ge),b=O.state,p=b.darkMode,h=b.variant,f=b.bg,g=Object(Me.l)(),x=Object(a.useState)(!1),m=Object(qe.a)(x,2),y=m[0],v=m[1],E=Object(a.useState)(""),S=Object(qe.a)(E,2),I=(S[0],S[1]);return Object(Ue.jsx)(un.a,{expand:"md",variant:h,bg:f,collapseOnSelect:!0,className:"sticky-top",children:Object(Ue.jsxs)(st.a,{fluid:!0,children:[Object(Ue.jsx)(un.a.Brand,{href:"#",className:"ps-3",children:"Support Knowledge"}),Object(Ue.jsx)(un.a.Toggle,{"aria-controls":"offcanvasNavbar-expand"}),Object(Ue.jsxs)(un.a.Offcanvas,{id:"offcanvasNavbar-expand","aria-labelledby":"offcanvasNavbarLabel-expand",placement:"end",className:"text-bg-".concat(f),children:[p?Object(Ue.jsx)(ln.a.Header,{closeButton:!0,closeVariant:"white",children:Object(Ue.jsx)(ln.a.Title,{id:"offcanvasNavbarLabel-expand",children:"Support"})}):Object(Ue.jsx)(ln.a.Header,{closeButton:!0,children:Object(Ue.jsx)(ln.a.Title,{id:"offcanvasNavbarLabel-expand",children:"Support"})}),Object(Ue.jsx)(ln.a.Body,{children:Object(Ue.jsxs)(on.a,{className:"justify-content-end flex-grow-1 pe-3 d-flex flex-nowrap",onSelect:function(e){switch(e){case"LIGHTMODE":case"DARKMODE":document.body.classList.contains("dark")?(document.body.classList.remove("dark"),document.body.classList.add("light")):document.body.classList.add("dark"),O.dispatch({type:e}),s();break;case"STORAGE_DISPLAY":sn.display().then((function(e){document.getElementById("bodi").innerHTML=e})),j(!0);break;case"STORAGE_CLEAR":sn.clear(i,u);break;case"STORAGE_EXPORT":sn.export();break;case"STORAGE_IMPORT":v(!0)}},children:[t&&Object(Ue.jsxs)(on.a.Link,{href:"#/supporter/promo",onClick:function(){o()},children:[Object(Ue.jsx)(gt.a,{icon:xt.i,color:"lightblue"})," ","Supporter"]}),t&&Object(Ue.jsxs)(on.a.Link,{href:"#/questions",children:[Object(Ue.jsx)(gt.a,{icon:xt.h,color:"lightblue"})," ","Questions"]}),t&&Object(Ue.jsxs)(on.a.Link,{href:"#/answers/pera",children:[Object(Ue.jsx)(gt.a,{icon:xt.a,color:"lightblue"})," ","Answers"]}),t&&r&&11===r.who.roleId&&Object(Ue.jsxs)(on.a.Link,{href:"#/users/2",children:[Object(Ue.jsx)(gt.a,{icon:xt.k,color:"lightblue"})," ","Users"]}),!t&&Object(Ue.jsx)(on.a.Link,{href:"#/landing",children:"Landing"}),!t&&Object(Ue.jsx)(on.a.Link,{href:"#/About",children:"About"}),!t&&Object(Ue.jsx)(on.a.Link,{href:"#/Register",children:"Register"}),!t&&Object(Ue.jsx)(on.a.Link,{href:"#/sign-in ",children:"Sign In"}),t&&Object(Ue.jsxs)(dn.a,{title:Object(Ue.jsxs)(Ue.Fragment,{children:[Object(Ue.jsx)(gt.a,{icon:xt.j})," ",r.who.userName]}),id:"offcanvasNavbarDropdown-expand",menuVariant:h,align:"end",children:[Object(Ue.jsx)(dn.a.Item,{eventKey:"DARKMODE",children:"Dark mode"}),Object(Ue.jsx)(dn.a.Item,{eventKey:"LIGHTMODE",children:"Light mode"}),Object(Ue.jsx)(dn.a.Divider,{}),Object(Ue.jsxs)(dn.a,{title:Object(Ue.jsxs)("span",{style:{padding:"0px 5px",fontSize:"0.9rem"},children:[Object(Ue.jsx)(gt.a,{icon:xt.e})," ","Local Storage"]}),id:"offcanvasNavbarDropdown-expand2",menuVariant:h,align:"end",children:[Object(Ue.jsx)(dn.a.Item,{href:"#",eventKey:"STORAGE_DISPLAY",children:"Display"}),Object(Ue.jsx)(dn.a.Divider,{}),Object(Ue.jsx)(dn.a.Item,{href:"#",eventKey:"STORAGE_CLEAR",children:"Clear"}),Object(Ue.jsx)(dn.a.Divider,{}),Object(Ue.jsx)(dn.a.Item,{href:"#",eventKey:"STORAGE_EXPORT",children:"Export to zip file"}),Object(Ue.jsx)(dn.a.Divider,{}),Object(Ue.jsx)(dn.a.Item,{href:"#",eventKey:"STORAGE_IMPORT",children:"Import from zip file"})]}),Object(Ue.jsx)(dn.a.Divider,{}),Object(Ue.jsx)(dn.a.Item,{href:"#/About",children:"About"}),Object(Ue.jsx)(dn.a.Item,{href:"#",onClick:function(){c(),g("/landing")},children:"Sign out"})]})]})})]}),Object(Ue.jsxs)(vt.a,{show:y,onHide:function(){return v(!1)},animation:!0,size:"lg",centered:!0,className:"".concat(p?"dark":""),contentClassName:"".concat(p?"dark":""),children:[Object(Ue.jsx)(vt.a.Header,{closeButton:!0,children:Object(Ue.jsx)(vt.a.Title,{children:"Select file to import"})}),Object(Ue.jsx)(vt.a.Body,{children:Object(Ue.jsx)("input",{type:"file",accept:"application/zip",onChange:function(e){sn.import(e.target.files[0],d,l),v(!1)}})}),Object(Ue.jsxs)(vt.a.Footer,{children:["Only Categories, Questions and Answers will be imported.",Object(Ue.jsx)("br",{}),"Registered user will stay unchanged."]})]}),Object(Ue.jsxs)(vt.a,{show:n,onHide:function(){j(!1),I("")},animation:!0,size:"lg",centered:!0,className:"".concat(p?"dark":""),contentClassName:"".concat(p?"dark":""),children:[Object(Ue.jsx)(vt.a.Header,{closeButton:!0,children:Object(Ue.jsx)(vt.a.Title,{children:"LOCAL STORAGE"})}),Object(Ue.jsx)(vt.a.Body,{id:"bodi"}),Object(Ue.jsx)(vt.a.Footer,{})]})]})})})),On=function(e){return Object(Ue.jsxs)(Ue.Fragment,{children:[Object(Ue.jsx)("h2",{style:{textAlign:"center",marginBlockStart:"0.66rem",marginBlockEnd:"0.1rem"},children:"Questions & Answers"}),Object(Ue.jsxs)("div",{className:"d-flex flex-column justify-content-start align-items-center pt-0 mx-auto border-bottom abouts",children:[Object(Ue.jsx)("p",{className:"mx-auto",children:"Make your knowledge base for sharing information."}),Object(Ue.jsx)("p",{className:"mx-auto",children:"When you record your experiences and insights, other members of your team can share info."}),Object(Ue.jsx)("p",{className:"mx-auto",children:"Your questions and answers are stored to localStorage, which means they are protected od unwanted disclosure."}),Object(Ue.jsxs)("p",{className:"mx-auto",children:["You can easily export Questions/Answers to the 'zip' file, and send by email to the memebers of your team.",Object(Ue.jsx)("br",{}),Object(Ue.jsx)("br",{}),"They can import that 'zip' file into the Web App at their platforms"]}),Object(Ue.jsx)("p",{className:"mx-auto",children:"Most of the software companies need some kind of software like this. As the developer, many times I had to open source code, giving the answer on the questions that we have already answered. Instead of complex and expensive Issue trackers, with relations between the issues and so on, which are difficult to learn, you can use this product just after instalation of Support chrome extension."}),Object(Ue.jsx)("h4",{style:{textAlign:"center",marginBlockStart:"0.66rem",marginBlockEnd:"0.1rem"},children:"The Flow"}),Object(Ue.jsx)("p",{className:"mx-auto",children:Object(Ue.jsxs)("ul",{children:[Object(Ue.jsx)("li",{children:"User sends you the email with the Question"}),Object(Ue.jsx)("li",{children:"You open the mail (Chrome or Edge) and click on the Support icon that was created by Support chrome extension "}),Object(Ue.jsx)("li",{children:"Extension opens the Support Web App, using email subject as the filter in Question auto-complete"}),Object(Ue.jsx)("li",{children:"You copy the selected answer in reply of the mail"})]})})]})]})},bn=Object(o.b)((function(e){return{isAuthenticated:e.topState.top.isAuthenticated,auth:e.topState.top.auth,uuid:e.topState.top.uuid}}),(function(e){return{toggleNavbar:function(){return e((function(e){try{e({type:Se.NAVBAR_TOGGLE})}catch(t){console.error(t)}}))},checkAuthentication:function(){var t=Object(p.a)(Object(O.a)().mark((function t(n){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Te(n));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),signOut:function(){return e(function(){var e=Object(p.a)(Object(O.a)().mark((function e(t){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:Se.UNAUTHENTICATE})}catch(n){console.error(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.isAuthenticated,n=(e.uuid,e.auth),r=(e.toggleNavbar,e.checkAuthentication,e.signOut),c=Object(a.useContext)(Ge).state,s=c.darkMode,o=c.variant,i=c.bg;Object(a.useEffect)((function(){document.body.classList.add(i)}),[]);var u=!0===t&&n.who.roleId<44,d=Object(Ue.jsxs)(ke.a,{children:[Object(Ue.jsx)(jn,{signOut:r}),Object(Ue.jsx)(st.a,{fluid:!0,children:Object(Ue.jsx)(At.a,{className:"".concat(s?"dark":""),children:Object(Ue.jsxs)(Ct.a,{id:"main",className:"ms-sm-auto px-md-4",variant:o,bg:o,children:[Object(Ue.jsx)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"}),Object(Ue.jsx)("div",{className:"".concat(s?"dark":""),children:Object(Ue.jsxs)(Me.c,{children:[Object(Ue.jsx)(Me.a,{path:"/",element:Object(Ue.jsx)(rn,{})}),Object(Ue.jsx)(Me.a,{path:"/sign-in",element:Object(Ue.jsx)(nn,{canEdit:!0,isRegister:!1})}),Object(Ue.jsx)(Me.a,{path:"/register",element:Object(Ue.jsx)(nn,{canEdit:!0,isRegister:!0})}),Object(Ue.jsx)(Me.a,{path:"/supporter/:tekst",element:Object(Ue.jsx)(Pt,{canEdit:u})}),Object(Ue.jsx)(Me.a,{path:"/questions",element:Object(Ue.jsx)(Bt.categories,{canEdit:u,handleClose:function(){}})}),Object(Ue.jsx)(Me.a,{path:"/answers/:slug",element:Object(Ue.jsx)(Yt,{})}),Object(Ue.jsx)(Me.a,{path:"/users/:slug",element:Object(Ue.jsx)(en,{canEdit:!0})}),Object(Ue.jsx)(Me.a,{path:"/about",element:Object(Ue.jsx)(On,{})}),Object(Ue.jsx)(Me.a,{path:"/landing",element:Object(Ue.jsx)(rn,{})})]})})]})})})]});return Object(Ue.jsx)(st.a,{fluid:!0,className:"App",children:d})})),pn=Object(i.createStore)(Ce,void 0,Object(d.composeWithDevTools)(Object(i.applyMiddleware)(u.a)));pn.dispatch(N()).then((function(){return pn.dispatch(D())})),pn.dispatch(y()),pn.dispatch(function(){var e=Object(p.a)(Object(O.a)().mark((function e(t){var n,r,a;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=[],"localStorage"in window&&null!==(r=localStorage.getItem(be))?(a=JSON.parse(r),n=a.map((function(e){return ce(e)}))):n=ae(),t({type:T.GET_ALL_USERS,roles:n}),t({type:T.CREATE_OPTIONS})}catch(c){console.error(c)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),pn.dispatch(function(){var e=Object(p.a)(Object(O.a)().mark((function e(t){var n,r,a;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=void 0,"localStorage"in window&&null!==(r=localStorage.getItem(Ie))&&(a=JSON.parse(r),console.log("parsed",a),n=we(a)),n&&(t({type:Se.LOAD_TOP,top:n}),n.auth&&n.auth.who&&t(Te(n.auth.who))),e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()).then((function(e){console.log({top:e})})).catch((function(e){console.error(e.getMessage())})),pn.dispatch(function(){var e=Object(p.a)(Object(O.a)().mark((function e(t){var n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{"localStorage"in window&&null!==(n=localStorage.getItem("SUPPORT_TAGS"))?JSON.parse(n).map((function(e){return ve.push(e)})):me.map((function(e){return ve.push(e)})),t({type:se.GET_ALL_TAGS,tags:ve})}catch(r){console.error(r)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var hn=Math.floor(1e4*Math.random()+1);sessionStorage.setItem("sessionId",hn.toString());var fn=pn.getState();s.render(Object(Ue.jsx)(c.a.StrictMode,{children:Object(Ue.jsx)(o.a,{store:pn,children:Object(Ue.jsx)(Qe,{darkMode:fn.topState.top.darkMode,children:Object(Ue.jsx)(bn,{})})})}),document.getElementById("root"))}},[[302,1,2]]]);
//# sourceMappingURL=main.41dd7d17.chunk.js.map